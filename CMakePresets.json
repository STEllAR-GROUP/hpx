{
    "version": 4,
    "cmakeMinimumRequired": {
        "major": 3,
        "minor": 19,
        "patch": 0
    },
    "vendor": {
        "hpx/project": {
            "description": "HPX-specific presets for common build configurations"
        }
    },
    "configurePresets": [
        {
            "name": "default",
            "displayName": "Default Configuration",
            "description": "Default HPX configuration suitable for most users. Release build with common features enabled.",
            "generator": "Ninja Multi-Config",
            "binaryDir": "${sourceDir}/build/default",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Release",
                "HPX_WITH_TESTS": "ON",
                "HPX_WITH_EXAMPLES": "ON"
            }
        },
        {
            "name": "minimal",
            "displayName": "Minimal Configuration",
            "description": "Minimal HPX build with only core features. Useful for quick builds or when dependencies are limited.",
            "generator": "Ninja",
            "binaryDir": "${sourceDir}/build/minimal",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Release",
                "HPX_WITH_TESTS": "OFF",
                "HPX_WITH_EXAMPLES": "OFF",
                "HPX_WITH_DOCUMENTATION": "OFF",
                "HPX_WITH_TOOLS": "OFF"
            }
        },
        {
            "name": "full",
            "displayName": "Full Configuration",
            "description": "Full HPX build with all standard features enabled. Includes tests, examples, and tools.",
            "generator": "Ninja Multi-Config",
            "binaryDir": "${sourceDir}/build/full",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Release",
                "HPX_WITH_TESTS": "ON",
                "HPX_WITH_EXAMPLES": "ON",
                "HPX_WITH_TOOLS": "ON",
                "HPX_WITH_DOCUMENTATION": "OFF"
            }
        },
        {
            "name": "debug",
            "displayName": "Debug Build",
            "description": "Debug build configuration with debug symbols and debug-optimized settings.",
            "generator": "Ninja",
            "binaryDir": "${sourceDir}/build/debug",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Debug",
                "HPX_WITH_TESTS": "ON",
                "HPX_WITH_EXAMPLES": "ON"
            }
        },
        {
            "name": "performance",
            "displayName": "Performance Instrumentation",
            "description": "Build optimized for performance analysis with APEX profiling enabled.",
            "generator": "Ninja",
            "binaryDir": "${sourceDir}/build/performance",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "RelWithDebInfo",
                "HPX_WITH_APEX": "ON",
                "HPX_WITH_FETCH_APEX": "ON",
                "HPX_WITH_TESTS": "ON"
            }
        },
        {
            "name": "sanitizer-address",
            "displayName": "Address Sanitizer",
            "description": "Build with AddressSanitizer for detecting memory errors. Requires compatible compiler.",
            "generator": "Ninja",
            "binaryDir": "${sourceDir}/build/sanitizer-address",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Debug",
                "HPX_WITH_SANITIZERS": "ON",
                "HPX_WITH_TESTS": "ON",
                "HPX_WITH_EXAMPLES": "OFF"
            }
        },
        {
            "name": "documentation",
            "displayName": "Documentation Build",
            "description": "Build configuration for generating HPX documentation. Requires Sphinx and Doxygen.",
            "generator": "Ninja",
            "binaryDir": "${sourceDir}/build/documentation",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Release",
                "HPX_WITH_DOCUMENTATION": "ON",
                "HPX_WITH_DOCUMENTATION_OUTPUT_FORMATS": "html",
                "HPX_WITH_TESTS": "OFF",
                "HPX_WITH_EXAMPLES": "OFF"
            }
        },
        {
            "name": "mpi",
            "displayName": "MPI Parcelport",
            "description": "Build with MPI parcelport enabled for multi-node distributed execution.",
            "generator": "Ninja Multi-Config",
            "binaryDir": "${sourceDir}/build/mpi",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Release",
                "HPX_WITH_PARCELPORT_MPI": "ON",
                "HPX_WITH_TESTS": "ON",
                "HPX_WITH_EXAMPLES": "ON"
            }
        },
        {
            "name": "fetch-dependencies",
            "displayName": "Fetch Dependencies",
            "description": "Build configuration that automatically fetches dependencies using FetchContent. Useful for development or when dependencies are not installed.",
            "generator": "Ninja",
            "binaryDir": "${sourceDir}/build/fetch-dependencies",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Release",
                "HPX_WITH_FETCH_BOOST": "ON",
                "HPX_WITH_FETCH_ASIO": "ON",
                "HPX_WITH_FETCH_HWLOC": "ON",
                "HPX_WITH_TESTS": "ON",
                "HPX_WITH_EXAMPLES": "ON"
            }
        },
        {
            "name": "static-linking",
            "displayName": "Static Linking",
            "description": "Build with static linking enabled. All HPX libraries will be statically linked.",
            "generator": "Ninja",
            "binaryDir": "${sourceDir}/build/static",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Release",
                "HPX_WITH_STATIC_LINKING": "ON",
                "HPX_WITH_TESTS": "ON"
            }
        },
        {
            "name": "release-debug-info",
            "displayName": "Release with Debug Info",
            "description": "Optimized Release build with debug information for profiling and debugging.",
            "generator": "Ninja",
            "binaryDir": "${sourceDir}/build/release-debug-info",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "RelWithDebInfo",
                "HPX_WITH_TESTS": "ON",
                "HPX_WITH_EXAMPLES": "ON"
            }
        },
        {
            "name": "sanitizer-thread",
            "displayName": "Thread Sanitizer",
            "description": "Build with ThreadSanitizer for detecting data races and threading issues. Requires compatible compiler.",
            "generator": "Ninja",
            "binaryDir": "${sourceDir}/build/sanitizer-thread",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Debug",
                "HPX_WITH_SANITIZERS": "ON",
                "HPX_WITH_TESTS": "ON",
                "HPX_WITH_EXAMPLES": "OFF"
            }
        },
        {
            "name": "sanitizer-undefined",
            "displayName": "Undefined Behavior Sanitizer",
            "description": "Build with UBSan for detecting undefined behavior. Requires compatible compiler.",
            "generator": "Ninja",
            "binaryDir": "${sourceDir}/build/sanitizer-undefined",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Debug",
                "HPX_WITH_SANITIZERS": "ON",
                "HPX_WITH_TESTS": "ON",
                "HPX_WITH_EXAMPLES": "OFF"
            }
        },
        {
            "name": "cuda",
            "displayName": "CUDA Support",
            "description": "Build with CUDA support for GPU acceleration. Requires CUDA toolkit.",
            "generator": "Ninja",
            "binaryDir": "${sourceDir}/build/cuda",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Release",
                "HPX_WITH_CUDA": "ON",
                "HPX_WITH_TESTS": "ON",
                "HPX_WITH_EXAMPLES": "ON"
            }
        },
        {
            "name": "sycl",
            "displayName": "SYCL Support",
            "description": "Build with SYCL support for heterogeneous computing. Requires SYCL compiler.",
            "generator": "Ninja",
            "binaryDir": "${sourceDir}/build/sycl",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Release",
                "HPX_WITH_SYCL": "ON",
                "HPX_WITH_TESTS": "ON",
                "HPX_WITH_EXAMPLES": "ON"
            }
        },
        {
            "name": "allocator-jemalloc",
            "displayName": "Jemalloc Allocator",
            "description": "Build with jemalloc as the memory allocator for improved memory management.",
            "generator": "Ninja",
            "binaryDir": "${sourceDir}/build/allocator-jemalloc",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Release",
                "HPX_WITH_MALLOC": "jemalloc",
                "HPX_WITH_TESTS": "ON",
                "HPX_WITH_EXAMPLES": "ON"
            }
        },
        {
            "name": "allocator-tcmalloc",
            "displayName": "TCMalloc Allocator",
            "description": "Build with TCMalloc as the memory allocator for improved performance.",
            "generator": "Ninja",
            "binaryDir": "${sourceDir}/build/allocator-tcmalloc",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Release",
                "HPX_WITH_MALLOC": "tcmalloc",
                "HPX_WITH_TESTS": "ON",
                "HPX_WITH_EXAMPLES": "ON"
            }
        },
        {
            "name": "unity-build",
            "displayName": "Unity Build",
            "description": "Build using unity build to speed up compilation (experimental).",
            "generator": "Ninja",
            "binaryDir": "${sourceDir}/build/unity",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Release",
                "HPX_WITH_UNITY_BUILD": "ON",
                "HPX_WITH_TESTS": "ON",
                "HPX_WITH_EXAMPLES": "ON"
            }
        },
        {
            "name": "modules",
            "displayName": "C++20 Modules",
            "description": "Build with C++20 modules support enabled (requires compatible compiler).",
            "generator": "Ninja",
            "binaryDir": "${sourceDir}/build/modules",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Release",
                "HPX_WITH_CXX_MODULES": "ON",
                "HPX_WITH_TESTS": "ON",
                "HPX_WITH_EXAMPLES": "ON"
            }
        },
        {
            "name": "no-distributed-runtime",
            "displayName": "No Distributed Runtime",
            "description": "Build without the distributed runtime (single-node only). Experimental build.",
            "generator": "Ninja",
            "binaryDir": "${sourceDir}/build/no-distributed",
            "cacheVariables": {
                "CMAKE_BUILD_TYPE": "Release",
                "HPX_WITH_DISTRIBUTED_RUNTIME": "OFF",
                "HPX_WITH_TESTS": "ON",
                "HPX_WITH_EXAMPLES": "ON"
            }
        }
    ],
    "buildPresets": [
        {
            "name": "default",
            "displayName": "Default Build",
            "configurePreset": "default",
            "jobs": 0
        },
        {
            "name": "minimal",
            "displayName": "Minimal Build",
            "configurePreset": "minimal",
            "jobs": 0
        },
        {
            "name": "full",
            "displayName": "Full Build",
            "configurePreset": "full",
            "jobs": 0
        },
        {
            "name": "debug",
            "displayName": "Debug Build",
            "configurePreset": "debug",
            "jobs": 0
        },
        {
            "name": "performance",
            "displayName": "Performance Build",
            "configurePreset": "performance",
            "jobs": 0
        },
        {
            "name": "sanitizer-address",
            "displayName": "Address Sanitizer Build",
            "configurePreset": "sanitizer-address",
            "jobs": 0
        },
        {
            "name": "documentation",
            "displayName": "Documentation Build",
            "configurePreset": "documentation",
            "targets": [
                "docs"
            ]
        },
        {
            "name": "mpi",
            "displayName": "MPI Build",
            "configurePreset": "mpi",
            "jobs": 0
        },
        {
            "name": "fetch-dependencies",
            "displayName": "Fetch Dependencies Build",
            "configurePreset": "fetch-dependencies",
            "jobs": 0
        },
        {
            "name": "static-linking",
            "displayName": "Static Linking Build",
            "configurePreset": "static-linking",
            "jobs": 0
        },
        {
            "name": "release-debug-info",
            "displayName": "Release with Debug Info Build",
            "configurePreset": "release-debug-info",
            "jobs": 0
        },
        {
            "name": "sanitizer-thread",
            "displayName": "Thread Sanitizer Build",
            "configurePreset": "sanitizer-thread",
            "jobs": 0
        },
        {
            "name": "sanitizer-undefined",
            "displayName": "Undefined Behavior Sanitizer Build",
            "configurePreset": "sanitizer-undefined",
            "jobs": 0
        },
        {
            "name": "cuda",
            "displayName": "CUDA Build",
            "configurePreset": "cuda",
            "jobs": 0
        },
        {
            "name": "sycl",
            "displayName": "SYCL Build",
            "configurePreset": "sycl",
            "jobs": 0
        },
        {
            "name": "allocator-jemalloc",
            "displayName": "Jemalloc Allocator Build",
            "configurePreset": "allocator-jemalloc",
            "jobs": 0
        },
        {
            "name": "allocator-tcmalloc",
            "displayName": "TCMalloc Allocator Build",
            "configurePreset": "allocator-tcmalloc",
            "jobs": 0
        },
        {
            "name": "unity-build",
            "displayName": "Unity Build",
            "configurePreset": "unity-build",
            "jobs": 0
        },
        {
            "name": "modules",
            "displayName": "C++20 Modules Build",
            "configurePreset": "modules",
            "jobs": 0
        },
        {
            "name": "no-distributed-runtime",
            "displayName": "No Distributed Runtime Build",
            "configurePreset": "no-distributed-runtime",
            "jobs": 0
        }
    ],
    "testPresets": [
        {
            "name": "default",
            "displayName": "Default Tests",
            "configurePreset": "default",
            "output": {
                "outputOnFailure": true
            }
        },
        {
            "name": "debug",
            "displayName": "Debug Tests",
            "configurePreset": "debug",
            "output": {
                "outputOnFailure": true
            }
        }
    ]
}
