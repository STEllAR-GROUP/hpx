

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Optimizing HPX applications &mdash; HPX 1.3.0-rc3 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="HPX runtime and resources" href="hpx_runtime_and_resources.html" />
    <link rel="prev" title="Debugging HPX applications" href="debugging_hpx_applications.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> HPX
          

          
            
            <img src="../_static/HPX_STELLAR.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.3.0-rc3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../why_hpx.html">Why <em>HPX</em>?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quick start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../manual.html">Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="getting_hpx.html">Getting <em>HPX</em></a></li>
<li class="toctree-l2"><a class="reference internal" href="building_hpx.html"><em>HPX</em> build system</a></li>
<li class="toctree-l2"><a class="reference internal" href="creating_hpx_projects.html">Creating <em>HPX</em> projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="starting_the_hpx_runtime.html">Starting the <em>HPX</em> runtime</a></li>
<li class="toctree-l2"><a class="reference internal" href="launching_and_configuring_hpx_applications.html">Launching and configuring <em>HPX</em> applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_single_node_hpx_applications.html">Writing single-node <em>HPX</em> applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing_distributed_hpx_applications.html">Writing distributed <em>HPX</em> applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="running_on_batch_systems.html">Running on batch systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="debugging_hpx_applications.html">Debugging <em>HPX</em> applications</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Optimizing <em>HPX</em> applications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#performance-counters">Performance counters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#performance-counter-names">Performance counter names</a></li>
<li class="toctree-l4"><a class="reference internal" href="#two-simple-examples">Two simple examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#performance-counter-types">Performance counter types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#performance-counter-instances">Performance counter instances</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-wildcards-in-performance-counter-names">Using wildcards in performance counter names</a></li>
<li class="toctree-l4"><a class="reference internal" href="#consuming-performance-counter-data">Consuming performance counter data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#consuming-performance-counter-data-from-the-command-line">Consuming performance counter data from the command line</a></li>
<li class="toctree-l4"><a class="reference internal" href="#a-simple-example">A simple example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#consuming-performance-counter-data-using-the-hpx-api">Consuming performance counter data using the <em>HPX</em> API</a></li>
<li class="toctree-l4"><a class="reference internal" href="#discover-existing-performance-counters">Discover existing performance counters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#retrieve-the-current-value-of-any-performance-counter">Retrieve the current value of any performance counter</a></li>
<li class="toctree-l4"><a class="reference internal" href="#providing-performance-counter-data">Providing performance counter data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#exposing-performance-counter-data-using-a-simple-function">Exposing performance counter data using a simple function</a></li>
<li class="toctree-l4"><a class="reference internal" href="#implementing-a-full-performance-counter">Implementing a full performance counter</a></li>
<li class="toctree-l4"><a class="reference internal" href="#existing-hpx-performance-counters">Existing <em>HPX</em> performance counters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#apex-integration">APEX integration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hpx_runtime_and_resources.html"><em>HPX</em> runtime and resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="miscellaneous.html">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../additional_material.html">Additional material</a></li>
</ul>
<p class="caption"><span class="caption-text">Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../libs/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../libs/all_modules.html">All modules</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing to <em>HPX</em></a></li>
</ul>
<p class="caption"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../releases.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about_hpx.html">About <em>HPX</em></a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HPX</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../manual.html">Manual</a> &raquo;</li>
        
      <li>Optimizing <em>HPX</em> applications</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/STEllAR-GROUP/hpx/blob/master/docs/sphinx/manual/optimizing_hpx_applications.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="optimizing-hpx-applications">
<h1>Optimizing <em>HPX</em> applications<a class="headerlink" href="#optimizing-hpx-applications" title="Permalink to this headline">¶</a></h1>
<div class="section" id="performance-counters">
<span id="id2"></span><h2>Performance counters<a class="headerlink" href="#performance-counters" title="Permalink to this headline">¶</a></h2>
<p>Performance Counters in <em>HPX</em> are used to provide information as to how well the
runtime system or an application is performing. The counter data can help
determine system bottlenecks and fine-tune system and application performance.
The <em>HPX</em> runtime system, its networking, and other layers provide counter data
that an application can consume to provide users with information of how well
the application is performing.</p>
<p>Applications can also use counter data to determine how much system resources to
consume. For example, an application that transfers data over the network could
consume counter data from a network switch to determine how much data to
transfer without competing for network bandwidth with other network traffic. The
application could use the counter data to adjust its transfer rate as the
bandwidth usage from other network traffic increases or decreases.</p>
<p>Performance Counters are <em>HPX</em> parallel processes which expose a predefined
interface. <em>HPX</em> exposes special API functions that allow one to create, manage,
read the counter data, and release instances of Performance Counters.
Performance Counter instances are accessed by name, and these names have a
predefined structure which is described in the section
<a class="reference internal" href="#performance-counter-names"><span class="std std-ref">Performance counter names</span></a>. The advantage of this is that any Performance
Counter can be accessed remotely (from a different <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>) or locally
(from the same <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>). Moreover, since all counters expose their data
using the same API, any code consuming counter data can be utilized to access
arbitrary system information with minimal effort.</p>
<p>Counter data may be accessed in real time. More information about how to consume
counter data can be found in the section <a class="reference internal" href="#consuming"><span class="std std-ref">Consuming performance counter data</span></a>.</p>
<p>All <em>HPX</em> applications provide command line options related to performance
counters, such as the ability to list available counter types, or periodically
query specific counters to be printed to the screen or save them in a file. For
more information, please refer to the section <a class="reference internal" href="launching_and_configuring_hpx_applications.html#commandline"><span class="std std-ref">HPX Command Line Options</span></a>.</p>
<div class="section" id="performance-counter-names">
<span id="id3"></span><h3>Performance counter names<a class="headerlink" href="#performance-counter-names" title="Permalink to this headline">¶</a></h3>
<p>All Performance Counter instances have a name uniquely identifying this
instance. This name can be used to access the counter, retrieve all related meta
data, and to query the counter data (as described in the section
<a class="reference internal" href="#consuming"><span class="std std-ref">Consuming performance counter data</span></a>). Counter names are strings with a predefined structure. The
general form of a countername is:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>/objectname{full_instancename}/countername@parameters
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">full_instancename</span></code> could be either another (full) counter name or a
string formatted as:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>parentinstancename#parentindex/instancename#instanceindex
</pre></div>
</div>
<p>Each separate part of a countername (e.g. <code class="docutils literal notranslate"><span class="pre">objectname</span></code>, <code class="docutils literal notranslate"><span class="pre">countername</span></code>
<code class="docutils literal notranslate"><span class="pre">parentinstancename</span></code>, <code class="docutils literal notranslate"><span class="pre">instancename</span></code>, and <code class="docutils literal notranslate"><span class="pre">parameters</span></code>) should start with
a letter (<code class="docutils literal notranslate"><span class="pre">'a'</span></code>…<code class="docutils literal notranslate"><span class="pre">'z'</span></code>, <code class="docutils literal notranslate"><span class="pre">'A'</span></code>…<code class="docutils literal notranslate"><span class="pre">'Z'</span></code>) or an underscore
character (<code class="docutils literal notranslate"><span class="pre">'_'</span></code>), optionally followed by letters, digits (<code class="docutils literal notranslate"><span class="pre">'0'</span></code>…<code class="docutils literal notranslate"><span class="pre">'9'</span></code>), hyphen (<code class="docutils literal notranslate"><span class="pre">'-'</span></code>), or underscore characters. Whitespace is not allowed
inside a counter name. The characters <code class="docutils literal notranslate"><span class="pre">'/'</span></code>, <code class="docutils literal notranslate"><span class="pre">'{'</span></code>, <code class="docutils literal notranslate"><span class="pre">'}'</span></code>, <code class="docutils literal notranslate"><span class="pre">'#'</span></code> and
<code class="docutils literal notranslate"><span class="pre">'&#64;'</span></code> have a special meaning and are used to delimit the different parts of
the counter name.</p>
<p>The parts <code class="docutils literal notranslate"><span class="pre">parentinstanceindex</span></code> and <code class="docutils literal notranslate"><span class="pre">instanceindex</span></code> are integers. If an
index is not specified <em>HPX</em> will assume a default of <code class="docutils literal notranslate"><span class="pre">-1</span></code>.</p>
</div>
<div class="section" id="two-simple-examples">
<span id="example"></span><h3>Two simple examples<a class="headerlink" href="#two-simple-examples" title="Permalink to this headline">¶</a></h3>
<p>An instance for a well formed (and meaningful) simple counter name would be:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>/threads{locality#0/total}/count/cumulative
</pre></div>
</div>
<p>This counter returns the current cumulative number of executed (retired)
<em>HPX</em>-threads for the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> <code class="docutils literal notranslate"><span class="pre">0</span></code>. The counter type of this counter
is <code class="docutils literal notranslate"><span class="pre">/threads/count/cumulative</span></code> and the full instance name is
<code class="docutils literal notranslate"><span class="pre">locality#0/total</span></code>. This counter type does not require an <code class="docutils literal notranslate"><span class="pre">instanceindex</span></code> or
<code class="docutils literal notranslate"><span class="pre">parameters</span></code> to be specified.</p>
<p>In this case, the <code class="docutils literal notranslate"><span class="pre">parentindex</span></code> (the <code class="docutils literal notranslate"><span class="pre">'0'</span></code>) designates the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>
for which the counter instance is created. The counter will return the number of
<em>HPX</em>-threads retired on that particular <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
<p>Another example for a well formed (aggregate) counter name is:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>/statistics{/threads{locality#0/total}/count/cumulative}/average@500
</pre></div>
</div>
<p>This counter takes the simple counter from the first example, samples its values
every <code class="docutils literal notranslate"><span class="pre">500</span></code> milliseconds, and returns the average of the value samples
whenever it is queried. The counter type of this counter is
<code class="docutils literal notranslate"><span class="pre">/statistics/average</span></code> and the instance name is the full name of the counter
for which the values have to be averaged. In this case, the <code class="docutils literal notranslate"><span class="pre">parameters</span></code> (the
<code class="docutils literal notranslate"><span class="pre">'500'</span></code>) specify the sampling interval for the averaging to take place (in
milliseconds).</p>
</div>
<div class="section" id="performance-counter-types">
<span id="types"></span><h3>Performance counter types<a class="headerlink" href="#performance-counter-types" title="Permalink to this headline">¶</a></h3>
<p>Every Performance Counter belongs to a specific Performance Counter type which
classifies the counters into groups of common semantics. The type of a counter
is identified by the <code class="docutils literal notranslate"><span class="pre">objectname</span></code> and the <code class="docutils literal notranslate"><span class="pre">countername</span></code> parts of the name.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>/objectname/countername
</pre></div>
</div>
<p>At application start, <em>HPX</em> will register all available counter types on each of
the localities. These counter types are held in a special Performance Counter
registration database which can be later used to retrieve the meta data related
to a counter type and to create counter instances based on a given counter
instance name.</p>
</div>
<div class="section" id="performance-counter-instances">
<span id="instances"></span><h3>Performance counter instances<a class="headerlink" href="#performance-counter-instances" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">full_instancename</span></code> distinguishes different counter instances of the same
counter type. The formatting of the <code class="docutils literal notranslate"><span class="pre">full_instancename</span></code> depends on the counter
type. There are two types of counters: simple counters which usually generate
the counter values based on direct measurements, and aggregate counters which
take another counter and transform its values before generating their own
counter values. An example for a simple counter is given <a class="reference internal" href="#example"><span class="std std-ref">above</span></a>:
counting retired <em>HPX</em>-threads. An aggregate counter is shown as an example
<a class="reference internal" href="#example"><span class="std std-ref">above</span></a> as well: calculating the average of the underlying
counter values sampled at constant time intervals.</p>
<p>While simple counters use instance names formatted as
<code class="docutils literal notranslate"><span class="pre">parentinstancename#parentindex/instancename#instanceindex</span></code>, most aggregate
counters have the full counter name of the embedded counter as its instance
name.</p>
<p>Not all simple counter types require specifying all 4 elements of a full counter
instance name, some of the parts <code class="docutils literal notranslate"><span class="pre">parentinstancename</span></code>, <code class="docutils literal notranslate"><span class="pre">parentindex</span></code>,
<code class="docutils literal notranslate"><span class="pre">instancename</span></code>, and <code class="docutils literal notranslate"><span class="pre">instanceindex</span></code>) are optional for specific counters.
Please refer to the documentation of a particular counter for more information
about the formatting requirements for the name of this counter (see
<a class="reference internal" href="#counters"><span class="std std-ref">Existing HPX performance counters</span></a>).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">parameters</span></code> are used to pass additional information to a counter at
creation time. They are optional and they fully depend on the concrete counter.
Even if a specific counter type allows additional parameters to be given, those
usually are not required as sensible defaults will be chosen. Please refer to
the documentation of a particular counter for more information about what
parameters are supported, how to specify them, and what default values are
assumed (see also <a class="reference internal" href="#counters"><span class="std std-ref">Existing HPX performance counters</span></a>).</p>
<p>Every <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> of an application exposes its own set of Performance
Counter types and Performance Counter instances. The set of exposed counters is
determined dynamically at application start based on the execution environment
of the application. For instance, this set is influenced by the current hardware
environment for the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> (such as whether the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> has
access to accelerators), and the software environment of the application (such
as the number of OS-threads used to execute <em>HPX</em>-threads).</p>
</div>
<div class="section" id="using-wildcards-in-performance-counter-names">
<span id="wildcards"></span><h3>Using wildcards in performance counter names<a class="headerlink" href="#using-wildcards-in-performance-counter-names" title="Permalink to this headline">¶</a></h3>
<p>It is possible to use wildcard characters when specifying performance counter
names. Performance counter names can contain 2 types of wildcard characters:</p>
<ul class="simple">
<li>Wildcard characters in the performance counter type</li>
<li>Wildcard characters in the performance counter instance name</li>
</ul>
<p>Wildcard character have a meaning which is very close to usual file name
wildcard matching rules implemented by common shells (like bash).</p>
<table border="1" class="docutils" id="id6">
<caption><span class="caption-number">Table 38 </span><span class="caption-text">Wildcard characters in the performance counter type</span><a class="headerlink" href="#id6" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Wildcard</td>
<td>Description</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">*</span></code></td>
<td>This wildcard character matches any number (zero or more) of arbitrary
characters.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">?</span></code></td>
<td>This wildcard character matches any single arbitrary character.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">[...]</span></code></td>
<td>This wildcard character matches any single character from the list of
specified within the square brackets.</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils" id="id7">
<caption><span class="caption-number">Table 39 </span><span class="caption-text">Wildcard characters in the performance counter instance name</span><a class="headerlink" href="#id7" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Wildcard</td>
<td>Description</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">*</span></code></td>
<td>This wildcard character matches any <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> or any thread,
depending on whether it is used for <code class="docutils literal notranslate"><span class="pre">locality#*</span></code> or
<code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code>. No other wildcards are allowed in counter instance
names.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="consuming-performance-counter-data">
<span id="consuming"></span><h3>Consuming performance counter data<a class="headerlink" href="#consuming-performance-counter-data" title="Permalink to this headline">¶</a></h3>
<p>You can consume performance data using either the command line interface or via
the <em>HPX</em> application or the <em>HPX</em> API. The command line interface is easier to
use, but it is less flexible and does not allow one to adjust the behaviour of
your application at runtime. The command line interface provides a convenience
abstraction but simplified abstraction for querying and logging performance
counter data for a set of performance counters.</p>
</div>
<div class="section" id="consuming-performance-counter-data-from-the-command-line">
<span id="performance-counters-commandline"></span><h3>Consuming performance counter data from the command line<a class="headerlink" href="#consuming-performance-counter-data-from-the-command-line" title="Permalink to this headline">¶</a></h3>
<p><em>HPX</em> provides a set of predefined command line options for every application
which uses <code class="docutils literal notranslate"><span class="pre">hpx::init</span></code> for its initialization. While there are much more
command line options available (see <a class="reference internal" href="launching_and_configuring_hpx_applications.html#commandline"><span class="std std-ref">HPX Command Line Options</span></a>), the set of options related
to Performance Counters allow one to list existing counters, query existing
counters once at application termination or repeatedly after a constant time
interval.</p>
<p>The following table summarizes the available command line options:</p>
<table border="1" class="docutils" id="id8">
<caption><span class="caption-number">Table 40 </span><span class="caption-text"><em>HPX</em> Command Line Options Related to Performance Counters</span><a class="headerlink" href="#id8" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Command line option</td>
<td>Description</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--hpx:print-counter</span></code></td>
<td>print the specified performance counter either repeatedly and/or at the
times specified by <code class="docutils literal notranslate"><span class="pre">--hpx:print-counter-at</span></code> (see also option
<code class="docutils literal notranslate"><span class="pre">--hpx:print-counter-interval</span></code>).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--hpx:print-counter-reset</span></code></td>
<td>print the specified performance counter either repeatedly and/or at the
times specified by <code class="docutils literal notranslate"><span class="pre">--hpx:print-counter-at</span></code> reset the counter after the
value is queried. (see also option <code class="docutils literal notranslate"><span class="pre">--hpx:print-counter-interval</span></code>).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--hpx:print-counter-interval</span></code></td>
<td>print the performance counter(s) specified with <code class="docutils literal notranslate"><span class="pre">--hpx:print-counter</span></code>
repeatedly after the time interval (specified in milliseconds)
(default:<code class="docutils literal notranslate"><span class="pre">0</span></code> which means print once at shutdown).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--hpx:print-counter-destination</span></code></td>
<td>print the performance counter(s) specified with <code class="docutils literal notranslate"><span class="pre">--hpx:print-counter</span></code>
to the given file (default: console)).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--hpx:list-counters</span></code></td>
<td>list the names of all registered performance counters.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--hpx:list-counter-infos</span></code></td>
<td>list the description of all registered performance counters.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--hpx:print-counter-format</span></code></td>
<td>print the performance counter(s) specified with <code class="docutils literal notranslate"><span class="pre">--hpx:print-counter</span></code>
possible formats in csv format with header or without any header (see
option <code class="docutils literal notranslate"><span class="pre">--hpx:no-csv-header</span></code>), possible values: <code class="docutils literal notranslate"><span class="pre">csv</span></code> (prints counter
values in CSV format with full names as header) <code class="docutils literal notranslate"><span class="pre">csv-short</span></code> (prints
counter values in CSV format with shortnames provided with
<code class="docutils literal notranslate"><span class="pre">--hpx:print-counter</span></code> as <code class="docutils literal notranslate"><span class="pre">--hpx:print-counter</span>
<span class="pre">shortname,full-countername</span></code>)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--hpx:no-csv-header</span></code></td>
<td>print the performance counter(s) specified with <code class="docutils literal notranslate"><span class="pre">--hpx:print-counter</span></code>
and <code class="docutils literal notranslate"><span class="pre">csv</span></code> or <code class="docutils literal notranslate"><span class="pre">csv-short</span></code> format specified with
<code class="docutils literal notranslate"><span class="pre">--hpx:print-counter-format</span></code> without header.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">--hpx:print-counter-at</span> <span class="pre">arg</span></code></td>
<td>print the performance counter(s) specified with <code class="docutils literal notranslate"><span class="pre">--hpx:print-counter</span></code>
(or <code class="docutils literal notranslate"><span class="pre">--hpx:print-counter-reset</span></code>) at the given point in time, possible
argument values: <code class="docutils literal notranslate"><span class="pre">startup</span></code>, <code class="docutils literal notranslate"><span class="pre">shutdown</span></code> (default), <code class="docutils literal notranslate"><span class="pre">noshutdown</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">--hpx:reset-counters</span></code></td>
<td>reset all performance counter(s) specified with <code class="docutils literal notranslate"><span class="pre">--hpx:print-counter</span></code>
after they have been evaluated)</td>
</tr>
</tbody>
</table>
<p>While the options <code class="docutils literal notranslate"><span class="pre">--hpx:list-counters</span></code> and <code class="docutils literal notranslate"><span class="pre">--hpx:list-counter-infos</span></code> give
a short listing of all available counters, the full documentation for those can
be found in the section <a class="reference internal" href="#counters"><span class="std std-ref">Existing HPX performance counters</span></a>.</p>
</div>
<div class="section" id="a-simple-example">
<h3>A simple example<a class="headerlink" href="#a-simple-example" title="Permalink to this headline">¶</a></h3>
<p>All of the commandline options mentioned above can be for instance tested using
the <code class="docutils literal notranslate"><span class="pre">hello_world_distributed</span></code> example.</p>
<p>Listing all available counters <code class="docutils literal notranslate"><span class="pre">hello_world_distributed</span> <span class="pre">--hpx:list-counters</span></code>
yields:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>List of available counter instances (replace * below with the appropriate
sequence number)
-------------------------------------------------------------------------
/agas/count/allocate /agas/count/bind /agas/count/bind_gid
/agas/count/bind_name ... /threads{locality#*/allocator#*}/count/objects
/threads{locality#*/total}/count/stack-recycles
/threads{locality#*/total}/idle-rate
/threads{locality#*/worker-thread#*}/idle-rate
</pre></div>
</div>
<p>Providing more information about all available counters
<code class="docutils literal notranslate"><span class="pre">hello_world_distributed</span> <span class="pre">--hpx:list-counter-infos</span></code> yields:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Information about available counter instances (replace * below with the
appropriate sequence number)
------------------------------------------------------------------------------
fullname: /agas/count/allocate helptext: returns the number of invocations of
the AGAS service &#39;allocate&#39; type: counter_raw version: 1.0.0
------------------------------------------------------------------------------

------------------------------------------------------------------------------
fullname: /agas/count/bind helptext: returns the number of invocations of the
AGAS service &#39;bind&#39; type: counter_raw version: 1.0.0
------------------------------------------------------------------------------

------------------------------------------------------------------------------
fullname: /agas/count/bind_gid helptext: returns the number of invocations of
the AGAS service &#39;bind_gid&#39; type: counter_raw version: 1.0.0
------------------------------------------------------------------------------

...
</pre></div>
</div>
<p>This command will not only list the counter names but also a short description
of the data exposed by this counter.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The list of available counters may differ depending on the concrete execution
environment (hardware or software) of your application.</p>
</div>
<p>Requesting the counter data for one or more performance counters can be achieved
by invoking <code class="docutils literal notranslate"><span class="pre">hello_world_distributed</span></code> with a list of counter names:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>hello_world_distributed <span class="se">\</span>
    --hpx:print-counter<span class="o">=</span>/threads<span class="o">{</span>locality#0/total<span class="o">}</span>/count/cumulative <span class="se">\</span>
    --hpx:print-counter<span class="o">=</span>/agas<span class="o">{</span>locality#0/total<span class="o">}</span>/count/bind
</pre></div>
</div>
<p>which yields for instance:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>hello world from OS-thread <span class="m">0</span> on locality <span class="m">0</span>
/threads<span class="o">{</span>locality#0/total<span class="o">}</span>/count/cumulative,1,0.212527,<span class="o">[</span>s<span class="o">]</span>,33
/agas<span class="o">{</span>locality#0/total<span class="o">}</span>/count/bind,1,0.212790,<span class="o">[</span>s<span class="o">]</span>,11
</pre></div>
</div>
<p>The first line is the normal output generated by <code class="docutils literal notranslate"><span class="pre">hello_world_distributed</span></code> and
has no relation to the counter data listed. The last two lines contain the
counter data as gathered at application shutdown. These lines have 6 fields, the
counter name, the sequence number of the counter invocation, the time stamp at
which this information has been sampled, the unit of measure for the time stamp,
the actual counter value, and an optional unit of measure for the counter value.</p>
<p>The actual counter value can be represented by a single number (for counters
returning singular values) or a list of numbers separated by <code class="docutils literal notranslate"><span class="pre">':'</span></code> (for
counters returning an array of values, like for instance a histogram).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The name of the performance counter will be enclosed in double quotes <code class="docutils literal notranslate"><span class="pre">'&quot;'</span></code>
if it contains one or more commas <code class="docutils literal notranslate"><span class="pre">','</span></code>.</p>
</div>
<p>Requesting to query the counter data once after a constant time interval with
this command line:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>hello_world_distributed <span class="se">\</span>
    --hpx:print-counter<span class="o">=</span>/threads<span class="o">{</span>locality#0/total<span class="o">}</span>/count/cumulative <span class="se">\</span>
    --hpx:print-counter<span class="o">=</span>/agas<span class="o">{</span>locality#0/total<span class="o">}</span>/count/bind <span class="se">\</span>
    --hpx:print-counter-interval<span class="o">=</span><span class="m">20</span>
</pre></div>
</div>
<p>yields for instance (leaving off the actual console output of the
<code class="docutils literal notranslate"><span class="pre">hello_world_distributed</span></code> example for brevity):</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>threads{locality#0/total}/count/cumulative,1,0.002409,[s],22
agas{locality#0/total}/count/bind,1,0.002542,[s],9
threads{locality#0/total}/count/cumulative,2,0.023002,[s],41
agas{locality#0/total}/count/bind,2,0.023557,[s],10
threads{locality#0/total}/count/cumulative,3,0.037514,[s],46
agas{locality#0/total}/count/bind,3,0.038679,[s],10
</pre></div>
</div>
<p>The command <code class="docutils literal notranslate"><span class="pre">--hpx:print-counter-destination=&lt;file&gt;</span></code> will redirect all counter
data gathered to the specified file name, which avoids cluttering the console
output of your application.</p>
<p>The command line option <code class="docutils literal notranslate"><span class="pre">--hpx:print-counter</span></code> supports using a limited set of
wildcards for a (very limited) set of use cases. In particular, all occurrences
of <code class="docutils literal notranslate"><span class="pre">#*</span></code> as in <code class="docutils literal notranslate"><span class="pre">locality#*</span></code> and in <code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> will be automatically
expanded to the proper set of performance counter names representing the actual
environment for the executed program. For instance, if your program is utilizing
4 worker threads for the execution of HPX threads (see command line option
<a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>) the following command line</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>hello_world_distributed <span class="se">\</span>
    --hpx:threads<span class="o">=</span><span class="m">4</span> <span class="se">\</span>
    --hpx:print-counter<span class="o">=</span>/threads<span class="o">{</span>locality#0/worker-thread#*<span class="o">}</span>/count/cumulative
</pre></div>
</div>
<p>will print the value of the performance counters monitoring each of the worker
threads:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>hello world from OS-thread 1 on locality 0
hello world from OS-thread 0 on locality 0
hello world from OS-thread 3 on locality 0
hello world from OS-thread 2 on locality 0
/threads{locality#0/worker-thread#0}/count/cumulative,1,0.0025214,[s],27
/threads{locality#0/worker-thread#1}/count/cumulative,1,0.0025453,[s],33
/threads{locality#0/worker-thread#2}/count/cumulative,1,0.0025683,[s],29
/threads{locality#0/worker-thread#3}/count/cumulative,1,0.0025904,[s],33
</pre></div>
</div>
<p>The command <code class="docutils literal notranslate"><span class="pre">--hpx:print-counter-format</span></code> takes values <code class="docutils literal notranslate"><span class="pre">csv</span></code> and
<code class="docutils literal notranslate"><span class="pre">csv-short</span></code> to generate CSV formatted counter values with header.</p>
<p>With format as csv:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>hello_world_distributed <span class="se">\</span>
    --hpx:threads<span class="o">=</span><span class="m">2</span> <span class="se">\</span>
    --hpx:print-counter-format csv <span class="se">\</span>
    --hpx:print-counter /threads<span class="o">{</span>locality#*/total<span class="o">}</span>/count/cumulative <span class="se">\</span>
    --hpx:print-counter /threads<span class="o">{</span>locality#*/total<span class="o">}</span>/count/cumulative-phases
</pre></div>
</div>
<p>will print the values of performance counters in CSV format with full
countername as header:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>hello world from OS-thread 1 on locality 0
hello world from OS-thread 0 on locality 0
/threads{locality#*/total}/count/cumulative,/threads{locality#*/total}/count/cumulative-phases
39,93
</pre></div>
</div>
<p>With format csv-short:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>hello_world_distributed <span class="se">\</span>
    --hpx:threads <span class="m">2</span> <span class="se">\</span>
    --hpx:print-counter-format csv-short <span class="se">\</span>
    --hpx:print-counter cumulative,/threads<span class="o">{</span>locality#*/total<span class="o">}</span>/count/cumulative <span class="se">\</span>
    --hpx:print-counter phases,/threads<span class="o">{</span>locality#*/total<span class="o">}</span>/count/cumulative-phases
</pre></div>
</div>
<p>will print the values of performance counters in CSV format with short countername
as header:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>hello world from OS-thread 1 on locality 0
hello world from OS-thread 0 on locality 0
cumulative,phases
39,93
</pre></div>
</div>
<p>With format csv and csv-short when used with <code class="docutils literal notranslate"><span class="pre">--hpx:print-counter-interval</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>hello_world_distributed <span class="se">\</span>
    --hpx:threads <span class="m">2</span> <span class="se">\</span>
    --hpx:print-counter-format csv-short <span class="se">\</span>
    --hpx:print-counter cumulative,/threads<span class="o">{</span>locality#*/total<span class="o">}</span>/count/cumulative <span class="se">\</span>
    --hpx:print-counter phases,/threads<span class="o">{</span>locality#*/total<span class="o">}</span>/count/cumulative-phases <span class="se">\</span>
    --hpx:print-counter-interval <span class="m">5</span>
</pre></div>
</div>
<p>will print the header only once repeating the performance counter value(s) repeatedly:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>cum,phases
25,42
hello world from OS-thread 1 on locality 0
hello world from OS-thread 0 on locality 0
44,95
</pre></div>
</div>
<p>The command <code class="docutils literal notranslate"><span class="pre">--hpx:no-csv-header</span></code> to be used with
<code class="docutils literal notranslate"><span class="pre">--hpx:print-counter-format</span></code> to print performance counter values in CSV format
without any header:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>hello_world_distributed <span class="se">\</span>
--hpx:threads <span class="m">2</span> <span class="se">\</span>
--hpx:print-counter-format csv-short <span class="se">\</span>
--hpx:print-counter cumulative,/threads<span class="o">{</span>locality#*/total<span class="o">}</span>/count/cumulative <span class="se">\</span>
--hpx:print-counter phases,/threads<span class="o">{</span>locality#*/total<span class="o">}</span>/count/cumulative-phases <span class="se">\</span>
--hpx:no-csv-header
</pre></div>
</div>
<p>will print:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>hello world from OS-thread 1 on locality 0
hello world from OS-thread 0 on locality 0
37,91
</pre></div>
</div>
</div>
<div class="section" id="consuming-performance-counter-data-using-the-hpx-api">
<span id="api"></span><h3>Consuming performance counter data using the <em>HPX</em> API<a class="headerlink" href="#consuming-performance-counter-data-using-the-hpx-api" title="Permalink to this headline">¶</a></h3>
<p><em>HPX</em> provides an API allowing to discover performance counters and to retrieve
the current value of any existing performance counter from any application.</p>
</div>
<div class="section" id="discover-existing-performance-counters">
<h3>Discover existing performance counters<a class="headerlink" href="#discover-existing-performance-counters" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="retrieve-the-current-value-of-any-performance-counter">
<h3>Retrieve the current value of any performance counter<a class="headerlink" href="#retrieve-the-current-value-of-any-performance-counter" title="Permalink to this headline">¶</a></h3>
<p>Performance counters are specialized <em>HPX</em> components. In order to retrieve a
counter value, the performance counter needs to be instantiated. <em>HPX</em> exposes a
client component object for this purpose:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">hpx</span><span class="o">::</span><span class="n">performance_counters</span><span class="o">::</span><span class="n">performance_counter</span> <span class="n">counter</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">name</span><span class="p">);</span>
</pre></div>
</div>
<p>Instantiating an instance of this type will create the performance counter
identified by the given <code class="docutils literal notranslate"><span class="pre">name</span></code>. Only the first invocation for any given counter
name will create a new instance of that counter, all following invocations for a
given counter name will reference the initially created instance. This ensures,
that at any point in time there is always not more than one active instance of
any of the existing performance counters.</p>
<p>In order to access the counter value (or invoking any of the other functionality
related to a performance counter, like <code class="docutils literal notranslate"><span class="pre">start</span></code>, <code class="docutils literal notranslate"><span class="pre">stop</span></code> or <code class="docutils literal notranslate"><span class="pre">reset</span></code>) member
functions of the created client component instance should be called:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// print the current number of threads created on locality 0</span>
<span class="n">hpx</span><span class="o">::</span><span class="n">performance_counters</span><span class="o">::</span><span class="n">performance_counter</span> <span class="n">count</span><span class="p">(</span>
    <span class="s">&quot;/threads{locality#0/total}/count/cumulative&quot;</span><span class="p">);</span>
<span class="n">hpx</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">count</span><span class="p">.</span><span class="n">get_value</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">().</span><span class="n">get</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">hpx</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</pre></div>
</div>
<p>For more information about the client component type see [classref
hpx::performance_counters::performance_counter].</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>In the above example <code class="docutils literal notranslate"><span class="pre">count.get_value()</span></code> returns a future. In order to print
the result we must append <code class="docutils literal notranslate"><span class="pre">.get()</span></code> to retrieve the value. You could write the
above example like this for more clarity:</p>
<div class="last highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// print the current number of threads created on locality 0</span>
<span class="n">hpx</span><span class="o">::</span><span class="n">performance_counters</span><span class="o">::</span><span class="n">performance_counter</span> <span class="n">count</span><span class="p">(</span>
    <span class="s">&quot;/threads{locality#0/total}/count/cumulative&quot;</span><span class="p">);</span>
<span class="n">hpx</span><span class="o">::</span><span class="n">future</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">count</span><span class="p">.</span><span class="n">get_value</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">();</span>
<span class="n">hpx</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">result</span><span class="p">.</span><span class="n">get</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">hpx</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="providing-performance-counter-data">
<span id="providing"></span><h3>Providing performance counter data<a class="headerlink" href="#providing-performance-counter-data" title="Permalink to this headline">¶</a></h3>
<p><em>HPX</em> offers several ways by which you may provide your own data as a
performance counter. This has the benefit of exposing additional, possibly
application specific information using the existing Performance Counter
framework, unifying the process of gathering data about your application.</p>
<p>An application that wants to provide counter data can implement a Performance
Counter to provide the data. When a consumer queries performance data, the <em>HPX</em>
runtime system calls the provider to collect the data. The runtime system uses
an internal registry to determine which provider to call.</p>
<p>Generally, there two ways of exposing your own Performance Counter data: a
simple, function based way and a more complex, but more powerful way of
implementing a full Performance Counter. Both alternatives are described in the
following sections.</p>
</div>
<div class="section" id="exposing-performance-counter-data-using-a-simple-function">
<span id="simple-counters"></span><h3>Exposing performance counter data using a simple function<a class="headerlink" href="#exposing-performance-counter-data-using-a-simple-function" title="Permalink to this headline">¶</a></h3>
<p>The simplest way to expose arbitrary numeric data is to write a function which
will then be called whenever a consumer queries this counter. Currently, this
type of Performance Counter can only be used to expose integer values. The
expected signature of this function is:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="kt">int64_t</span> <span class="n">some_performance_data</span><span class="p">(</span><span class="kt">bool</span> <span class="n">reset</span><span class="p">);</span>
</pre></div>
</div>
<p>The argument <code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">reset</span></code> (which is supplied by the runtime system when the
function is invoked) specifies whether the counter value should be reset after
evaluating the current value (if applicable).</p>
<p>For instance, here is such a function returning how often it was invoked:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// The atomic variable &#39;counter&#39; ensures the thread safety of the counter.</span>
<span class="n">boost</span><span class="o">::</span><span class="n">atomic</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="kt">int64_t</span><span class="o">&gt;</span> <span class="n">counter</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

<span class="n">std</span><span class="o">::</span><span class="kt">int64_t</span> <span class="n">some_performance_data</span><span class="p">(</span><span class="kt">bool</span> <span class="n">reset</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="kt">int64_t</span> <span class="n">result</span> <span class="o">=</span> <span class="o">++</span><span class="n">counter</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">reset</span><span class="p">)</span>
        <span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This example function exposes a linearly increasing value as our performance
data. The value is incremented on each invocation, e.g. each time a consumer
requests the counter data of this Performance Counter.</p>
<p>The next step in exposing this counter to the runtime system is to register the
function as a new raw counter type using the <em>HPX</em> API function
<a class="reference internal" href="../api.html#_CPPv4N3hpx20performance_counters20install_counter_typeERKNSt6stringERKN3hpx4util15function_nonserIFNSt7int64_tEbEEERKNSt6stringERKNSt6stringER10error_code" title="hpx::performance_counters::install_counter_type"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">hpx::performance_counters::install_counter_type</span></code></a>. A counter type
represents certain common characteristics of counters, like their counter type
name, and any associated description information. The following snippet shows an
example of how to register the function <code class="docutils literal notranslate"><span class="pre">some_performance_data</span></code> which is shown
above for a counter type named <code class="docutils literal notranslate"><span class="pre">&quot;/test/data&quot;</span></code>. This registration has to be
executed before any consumer instantiates and queries an instance of this
counter type:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;hpx/include/performance_counters.hpp&gt;</span><span class="cp"></span>

<span class="kt">void</span> <span class="nf">register_counter_type</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// Call the HPX API function to register the counter type.</span>
    <span class="n">hpx</span><span class="o">::</span><span class="n">performance_counters</span><span class="o">::</span><span class="n">install_counter_type</span><span class="p">(</span>
        <span class="s">&quot;/test/data&quot;</span><span class="p">,</span>                                   <span class="c1">// counter type name</span>
        <span class="o">&amp;</span><span class="n">some_performance_data</span><span class="p">,</span>                         <span class="c1">// function providing counter data</span>
        <span class="s">&quot;returns a linearly increasing counter value&quot;</span>   <span class="c1">// description text (optional)</span>
        <span class="s">&quot;&quot;</span>                                              <span class="c1">// unit of measure (optional)</span>
    <span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Now it is possible to instantiate a new counter instance based on the naming
scheme <code class="docutils literal notranslate"><span class="pre">&quot;/test{locality#*/total}/data&quot;</span></code> where <code class="docutils literal notranslate"><span class="pre">*</span></code> is a zero based integer
index identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> for which the counter instance should be
accessed. The function
<a class="reference internal" href="../api.html#_CPPv4N3hpx20performance_counters20install_counter_typeERKNSt6stringERKN3hpx4util15function_nonserIFNSt7int64_tEbEEERKNSt6stringERKNSt6stringER10error_code" title="hpx::performance_counters::install_counter_type"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">hpx::performance_counters::install_counter_type</span></code></a> enables to
instantiate exactly one counter instance for each <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>. Repeated
requests to instantiate such a counter will return the same instance, e.g. the
instance created for the first request.</p>
<p>If this counter needs to be accessed using the standard <em>HPX</em> command line
options, the registration has to be performed during application startup, before
<code class="docutils literal notranslate"><span class="pre">hpx_main</span></code> is executed. The best way to achieve this is to register an <em>HPX</em>
startup function using the API function
<a class="reference internal" href="../api.html#_CPPv4N3hpx25register_startup_functionE21startup_function_type" title="hpx::register_startup_function"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">hpx::register_startup_function</span></code></a> before calling <code class="docutils literal notranslate"><span class="pre">hpx::init</span></code> to
initialize the runtime system:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
    <span class="c1">// By registering the counter type we make it available to any consumer</span>
    <span class="c1">// who creates and queries an instance of the type &quot;/test/data&quot;.</span>
    <span class="c1">//</span>
    <span class="c1">// This registration should be performed during startup. The</span>
    <span class="c1">// function &#39;register_counter_type&#39; should be executed as an HPX thread right</span>
    <span class="c1">// before hpx_main is executed.</span>
    <span class="n">hpx</span><span class="o">::</span><span class="n">register_startup_function</span><span class="p">(</span><span class="o">&amp;</span><span class="n">register_counter_type</span><span class="p">);</span>

    <span class="c1">// Initialize and run HPX.</span>
    <span class="k">return</span> <span class="n">hpx</span><span class="o">::</span><span class="n">init</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Please see the code in [hpx_link
examples/performance_counters/simplest_performance_counter.cpp..simplest_performance_counter.cpp]
for a full example demonstrating this functionality.</p>
</div>
<div class="section" id="implementing-a-full-performance-counter">
<span id="full-counters"></span><h3>Implementing a full performance counter<a class="headerlink" href="#implementing-a-full-performance-counter" title="Permalink to this headline">¶</a></h3>
<p>Sometimes, the simple way of exposing a single value as a Performance Counter is
not sufficient. For that reason, <em>HPX</em> provides a means of implementing full
Performance Counters which support:</p>
<ul class="simple">
<li>Retrieving the descriptive information about the Performance Counter</li>
<li>Retrieving the current counter value</li>
<li>Resetting the Performance Counter (value)</li>
<li>Starting the Performance Counter</li>
<li>Stopping the Performance Counter</li>
<li>Setting the (initial) value of the Performance Counter</li>
</ul>
<p>Every full Performance Counter will implement a predefined interface:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">//  Copyright (c) 2007-2018 Hartmut Kaiser</span>
<span class="c1">//</span>
<span class="c1">//  Distributed under the Boost Software License, Version 1.0. (See accompanying</span>
<span class="c1">//  file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)</span>

<span class="cp">#if !defined(HPX_PERFORMANCE_COUNTERS_PERFORMANCE_COUNTER_JAN_18_2013_0939AM)</span>
<span class="cp">#define HPX_PERFORMANCE_COUNTERS_PERFORMANCE_COUNTER_JAN_18_2013_0939AM</span>

<span class="cp">#include</span> <span class="cpf">&lt;hpx/config.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;hpx/lcos/future.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;hpx/runtime/components/client_base.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;hpx/runtime/launch_policy.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;hpx/util/bind_front.hpp&gt;</span><span class="cp"></span>

<span class="cp">#include</span> <span class="cpf">&lt;hpx/performance_counters/counters_fwd.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;hpx/performance_counters/stubs/performance_counter.hpp&gt;</span><span class="cp"></span>

<span class="cp">#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;utility&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp"></span>

<span class="c1">///////////////////////////////////////////////////////////////////////////////</span>
<span class="k">namespace</span> <span class="n">hpx</span> <span class="p">{</span> <span class="k">namespace</span> <span class="n">performance_counters</span>
<span class="p">{</span>
    <span class="c1">///////////////////////////////////////////////////////////////////////////</span>
    <span class="k">struct</span> <span class="n">HPX_EXPORT</span> <span class="nl">performance_counter</span>
      <span class="p">:</span> <span class="n">components</span><span class="o">::</span><span class="n">client_base</span><span class="o">&lt;</span><span class="n">performance_counter</span><span class="p">,</span> <span class="n">stubs</span><span class="o">::</span><span class="n">performance_counter</span><span class="o">&gt;</span>
    <span class="p">{</span>
        <span class="k">typedef</span> <span class="n">components</span><span class="o">::</span><span class="n">client_base</span><span class="o">&lt;</span>
            <span class="n">performance_counter</span><span class="p">,</span> <span class="n">stubs</span><span class="o">::</span><span class="n">performance_counter</span>
        <span class="o">&gt;</span> <span class="n">base_type</span><span class="p">;</span>

        <span class="n">performance_counter</span><span class="p">()</span> <span class="p">{}</span>

        <span class="n">performance_counter</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">name</span><span class="p">);</span>

        <span class="n">performance_counter</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">name</span><span class="p">,</span> <span class="n">hpx</span><span class="o">::</span><span class="n">id_type</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">locality</span><span class="p">);</span>

        <span class="n">performance_counter</span><span class="p">(</span><span class="n">future</span><span class="o">&lt;</span><span class="n">id_type</span><span class="o">&gt;</span> <span class="o">&amp;&amp;</span> <span class="n">id</span><span class="p">)</span>
          <span class="o">:</span> <span class="n">base_type</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">id</span><span class="p">))</span>
        <span class="p">{}</span>

        <span class="n">performance_counter</span><span class="p">(</span><span class="n">hpx</span><span class="o">::</span><span class="n">future</span><span class="o">&lt;</span><span class="n">performance_counter</span><span class="o">&gt;</span> <span class="o">&amp;&amp;</span> <span class="n">c</span><span class="p">)</span>
          <span class="o">:</span> <span class="n">base_type</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>
        <span class="p">{}</span>

        <span class="c1">///////////////////////////////////////////////////////////////////////</span>
        <span class="n">future</span><span class="o">&lt;</span><span class="n">counter_info</span><span class="o">&gt;</span> <span class="n">get_info</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
        <span class="n">counter_info</span> <span class="nf">get_info</span><span class="p">(</span><span class="n">launch</span><span class="o">::</span><span class="n">sync_policy</span><span class="p">,</span>
            <span class="n">error_code</span><span class="o">&amp;</span> <span class="n">ec</span> <span class="o">=</span> <span class="k">throws</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

        <span class="n">future</span><span class="o">&lt;</span><span class="n">counter_value</span><span class="o">&gt;</span> <span class="n">get_counter_value</span><span class="p">(</span><span class="kt">bool</span> <span class="n">reset</span> <span class="o">=</span> <span class="nb">false</span><span class="p">);</span>
        <span class="n">counter_value</span> <span class="nf">get_counter_value</span><span class="p">(</span><span class="n">launch</span><span class="o">::</span><span class="n">sync_policy</span><span class="p">,</span>
            <span class="kt">bool</span> <span class="n">reset</span> <span class="o">=</span> <span class="nb">false</span><span class="p">,</span> <span class="n">error_code</span><span class="o">&amp;</span> <span class="n">ec</span> <span class="o">=</span> <span class="k">throws</span><span class="p">);</span>

        <span class="n">future</span><span class="o">&lt;</span><span class="n">counter_value</span><span class="o">&gt;</span> <span class="n">get_counter_value</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
        <span class="n">counter_value</span> <span class="nf">get_counter_value</span><span class="p">(</span><span class="n">launch</span><span class="o">::</span><span class="n">sync_policy</span><span class="p">,</span>
            <span class="n">error_code</span><span class="o">&amp;</span> <span class="n">ec</span> <span class="o">=</span> <span class="k">throws</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

        <span class="n">future</span><span class="o">&lt;</span><span class="n">counter_values_array</span><span class="o">&gt;</span> <span class="n">get_counter_values_array</span><span class="p">(</span><span class="kt">bool</span> <span class="n">reset</span> <span class="o">=</span> <span class="nb">false</span><span class="p">);</span>
        <span class="n">counter_values_array</span> <span class="nf">get_counter_values_array</span><span class="p">(</span><span class="n">launch</span><span class="o">::</span><span class="n">sync_policy</span><span class="p">,</span>
            <span class="kt">bool</span> <span class="n">reset</span> <span class="o">=</span> <span class="nb">false</span><span class="p">,</span> <span class="n">error_code</span><span class="o">&amp;</span> <span class="n">ec</span> <span class="o">=</span> <span class="k">throws</span><span class="p">);</span>

        <span class="n">future</span><span class="o">&lt;</span><span class="n">counter_values_array</span><span class="o">&gt;</span> <span class="n">get_counter_values_array</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
        <span class="n">counter_values_array</span> <span class="nf">get_counter_values_array</span><span class="p">(</span><span class="n">launch</span><span class="o">::</span><span class="n">sync_policy</span><span class="p">,</span>
            <span class="n">error_code</span><span class="o">&amp;</span> <span class="n">ec</span> <span class="o">=</span> <span class="k">throws</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

        <span class="c1">///////////////////////////////////////////////////////////////////////</span>
        <span class="n">future</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">start</span><span class="p">();</span>
        <span class="kt">bool</span> <span class="nf">start</span><span class="p">(</span><span class="n">launch</span><span class="o">::</span><span class="n">sync_policy</span><span class="p">,</span> <span class="n">error_code</span><span class="o">&amp;</span> <span class="n">ec</span> <span class="o">=</span> <span class="k">throws</span><span class="p">);</span>

        <span class="n">future</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">stop</span><span class="p">();</span>
        <span class="kt">bool</span> <span class="nf">stop</span><span class="p">(</span><span class="n">launch</span><span class="o">::</span><span class="n">sync_policy</span><span class="p">,</span> <span class="n">error_code</span><span class="o">&amp;</span> <span class="n">ec</span> <span class="o">=</span> <span class="k">throws</span><span class="p">);</span>

        <span class="n">future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span> <span class="n">reset</span><span class="p">();</span>
        <span class="kt">void</span> <span class="nf">reset</span><span class="p">(</span><span class="n">launch</span><span class="o">::</span><span class="n">sync_policy</span><span class="p">,</span> <span class="n">error_code</span><span class="o">&amp;</span> <span class="n">ec</span> <span class="o">=</span> <span class="k">throws</span><span class="p">);</span>

        <span class="n">future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span> <span class="n">reinit</span><span class="p">(</span><span class="kt">bool</span> <span class="n">reset</span> <span class="o">=</span> <span class="nb">true</span><span class="p">);</span>
        <span class="kt">void</span> <span class="nf">reinit</span><span class="p">(</span>
            <span class="n">launch</span><span class="o">::</span><span class="n">sync_policy</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">reset</span> <span class="o">=</span> <span class="nb">true</span><span class="p">,</span> <span class="n">error_code</span><span class="o">&amp;</span> <span class="n">ec</span> <span class="o">=</span> <span class="k">throws</span><span class="p">);</span>

        <span class="c1">///////////////////////////////////////////////////////////////////////</span>
        <span class="n">future</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">get_name</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
        <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">get_name</span><span class="p">(</span><span class="n">launch</span><span class="o">::</span><span class="n">sync_policy</span><span class="p">,</span> <span class="n">error_code</span><span class="o">&amp;</span> <span class="n">ec</span> <span class="o">=</span> <span class="k">throws</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

    <span class="k">private</span><span class="o">:</span>
        <span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span>
        <span class="k">static</span> <span class="n">T</span> <span class="n">extract_value</span><span class="p">(</span><span class="n">future</span><span class="o">&lt;</span><span class="n">counter_value</span><span class="o">&gt;</span> <span class="o">&amp;&amp;</span> <span class="n">value</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">value</span><span class="p">.</span><span class="n">get</span><span class="p">().</span><span class="n">get_value</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">();</span>
        <span class="p">}</span>

    <span class="k">public</span><span class="o">:</span>
        <span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span>
        <span class="n">future</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">get_value</span><span class="p">(</span><span class="kt">bool</span> <span class="n">reset</span> <span class="o">=</span> <span class="nb">false</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">get_counter_value</span><span class="p">(</span><span class="n">reset</span><span class="p">).</span><span class="n">then</span><span class="p">(</span>
                <span class="n">hpx</span><span class="o">::</span><span class="n">launch</span><span class="o">::</span><span class="n">sync</span><span class="p">,</span>
                <span class="n">util</span><span class="o">::</span><span class="n">bind_front</span><span class="p">(</span>
                    <span class="o">&amp;</span><span class="n">performance_counter</span><span class="o">::</span><span class="n">extract_value</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">));</span>
        <span class="p">}</span>
        <span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span>
        <span class="n">T</span> <span class="n">get_value</span><span class="p">(</span><span class="n">launch</span><span class="o">::</span><span class="n">sync_policy</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">reset</span> <span class="o">=</span> <span class="nb">false</span><span class="p">,</span>
            <span class="n">error_code</span><span class="o">&amp;</span> <span class="n">ec</span> <span class="o">=</span> <span class="k">throws</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">get_counter_value</span><span class="p">(</span><span class="n">launch</span><span class="o">::</span><span class="n">sync</span><span class="p">,</span> <span class="n">reset</span><span class="p">).</span><span class="n">get_value</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ec</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span>
        <span class="n">future</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">get_value</span><span class="p">()</span> <span class="k">const</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">get_counter_value</span><span class="p">().</span><span class="n">then</span><span class="p">(</span>
                <span class="n">hpx</span><span class="o">::</span><span class="n">launch</span><span class="o">::</span><span class="n">sync</span><span class="p">,</span>
                <span class="n">util</span><span class="o">::</span><span class="n">bind_front</span><span class="p">(</span>
                    <span class="o">&amp;</span><span class="n">performance_counter</span><span class="o">::</span><span class="n">extract_value</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">));</span>
        <span class="p">}</span>
        <span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span>
        <span class="n">T</span> <span class="n">get_value</span><span class="p">(</span><span class="n">launch</span><span class="o">::</span><span class="n">sync_policy</span><span class="p">,</span> <span class="n">error_code</span><span class="o">&amp;</span> <span class="n">ec</span> <span class="o">=</span> <span class="k">throws</span><span class="p">)</span> <span class="k">const</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">get_counter_value</span><span class="p">(</span><span class="n">launch</span><span class="o">::</span><span class="n">sync</span><span class="p">).</span><span class="n">get_value</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ec</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">};</span>

    <span class="c1">/// Return all counters matching the given name (with optional wildcards).</span>
    <span class="n">HPX_API_EXPORT</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">performance_counter</span><span class="o">&gt;</span> <span class="n">discover_counters</span><span class="p">(</span>
        <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">name</span><span class="p">,</span> <span class="n">error_code</span><span class="o">&amp;</span> <span class="n">ec</span> <span class="o">=</span> <span class="k">throws</span><span class="p">);</span>
<span class="p">}}</span>

<span class="cp">#endif</span>
</pre></div>
</div>
<p>In order to implement a full Performance Counter you have to create an <em>HPX</em>
component exposing this interface. To simplify this task, <em>HPX</em> provides a ready
made base class which handles all the boiler plate of creating a component for
you. The remainder of this section will explain the process of creating a full
Performance Counter based on the Sine example which you can find in the
directory <code class="docutils literal notranslate"><span class="pre">examples/performance_counters/sine/</span></code>.</p>
<p>The base class is defined in the header file [hpx_link
hpx/performance_counters/base_performance_counter.hpp..hpx/performance_counters/base_performance_counter.hpp]
as:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">//  Copyright (c) 2007-2018 Hartmut Kaiser</span>
<span class="c1">//</span>
<span class="c1">//  Distributed under the Boost Software License, Version 1.0. (See accompanying</span>
<span class="c1">//  file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)</span>

<span class="cp">#if !defined(HPX_PERFORMANCE_COUNTERS_BASE_PERFORMANCE_COUNTER_JAN_18_2013_1036AM)</span>
<span class="cp">#define HPX_PERFORMANCE_COUNTERS_BASE_PERFORMANCE_COUNTER_JAN_18_2013_1036AM</span>

<span class="cp">#include</span> <span class="cpf">&lt;hpx/config.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;hpx/performance_counters/counters.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;hpx/performance_counters/server/base_performance_counter.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;hpx/runtime/actions/component_action.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;hpx/runtime/components/component_type.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;hpx/runtime/components/server/component_base.hpp&gt;</span><span class="cp"></span>

<span class="c1">///////////////////////////////////////////////////////////////////////////////</span>
<span class="c1">//[performance_counter_base_class</span>
<span class="k">namespace</span> <span class="n">hpx</span> <span class="p">{</span> <span class="k">namespace</span> <span class="n">performance_counters</span>
<span class="p">{</span>
    <span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">Derived</span><span class="o">&gt;</span>
    <span class="k">class</span> <span class="nc">base_performance_counter</span><span class="p">;</span>
<span class="p">}}</span>
<span class="c1">//]</span>

<span class="c1">///////////////////////////////////////////////////////////////////////////////</span>
<span class="k">namespace</span> <span class="n">hpx</span> <span class="p">{</span> <span class="k">namespace</span> <span class="n">performance_counters</span>
<span class="p">{</span>
    <span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">Derived</span><span class="o">&gt;</span>
    <span class="k">class</span> <span class="nc">base_performance_counter</span>
      <span class="o">:</span> <span class="k">public</span> <span class="n">hpx</span><span class="o">::</span><span class="n">performance_counters</span><span class="o">::</span><span class="n">server</span><span class="o">::</span><span class="n">base_performance_counter</span><span class="p">,</span>
        <span class="k">public</span> <span class="n">hpx</span><span class="o">::</span><span class="n">components</span><span class="o">::</span><span class="n">component_base</span><span class="o">&lt;</span><span class="n">Derived</span><span class="o">&gt;</span>
    <span class="p">{</span>
    <span class="k">private</span><span class="o">:</span>
        <span class="k">typedef</span> <span class="n">hpx</span><span class="o">::</span><span class="n">components</span><span class="o">::</span><span class="n">component_base</span><span class="o">&lt;</span><span class="n">Derived</span><span class="o">&gt;</span> <span class="n">base_type</span><span class="p">;</span>

    <span class="k">public</span><span class="o">:</span>
        <span class="k">typedef</span> <span class="n">Derived</span> <span class="n">type_holder</span><span class="p">;</span>
        <span class="k">typedef</span> <span class="n">hpx</span><span class="o">::</span><span class="n">performance_counters</span><span class="o">::</span><span class="n">server</span><span class="o">::</span><span class="n">base_performance_counter</span>
            <span class="n">base_type_holder</span><span class="p">;</span>

        <span class="n">base_performance_counter</span><span class="p">()</span>
        <span class="p">{}</span>

        <span class="n">base_performance_counter</span><span class="p">(</span><span class="n">hpx</span><span class="o">::</span><span class="n">performance_counters</span><span class="o">::</span><span class="n">counter_info</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">info</span><span class="p">)</span>
          <span class="o">:</span> <span class="n">base_type_holder</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>
        <span class="p">{}</span>

        <span class="c1">// Disambiguate finalize() which is implemented in both base classes</span>
        <span class="kt">void</span> <span class="n">finalize</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">base_type_holder</span><span class="o">::</span><span class="n">finalize</span><span class="p">();</span>
            <span class="n">base_type</span><span class="o">::</span><span class="n">finalize</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">};</span>
<span class="p">}}</span>

<span class="cp">#endif</span>
</pre></div>
</div>
<p>The single template parameter is expected to receive the type of the
derived class implementing the Performance Counter. In the Sine example
this looks like:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">//  Copyright (c) 2007-2012 Hartmut Kaiser</span>
<span class="c1">//</span>
<span class="c1">//  Distributed under the Boost Software License, Version 1.0. (See accompanying</span>
<span class="c1">//  file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)</span>

<span class="cp">#if !defined(PERFORMANCE_COUNTERS_SINE_SEP_20_2011_0112PM)</span>
<span class="cp">#define PERFORMANCE_COUNTERS_SINE_SEP_20_2011_0112PM</span>

<span class="cp">#include</span> <span class="cpf">&lt;hpx/hpx.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;hpx/util/interval_timer.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;hpx/lcos/local/spinlock.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;hpx/performance_counters/base_performance_counter.hpp&gt;</span><span class="cp"></span>

<span class="cp">#include</span> <span class="cpf">&lt;cstdint&gt;</span><span class="cp"></span>

<span class="k">namespace</span> <span class="n">performance_counters</span> <span class="p">{</span> <span class="k">namespace</span> <span class="n">sine</span> <span class="p">{</span> <span class="k">namespace</span> <span class="n">server</span>
<span class="p">{</span>
    <span class="c1">///////////////////////////////////////////////////////////////////////////</span>
    <span class="c1">//[sine_counter_definition</span>
    <span class="k">class</span> <span class="nc">sine_counter</span>
      <span class="o">:</span> <span class="k">public</span> <span class="n">hpx</span><span class="o">::</span><span class="n">performance_counters</span><span class="o">::</span><span class="n">base_performance_counter</span><span class="o">&lt;</span><span class="n">sine_counter</span><span class="o">&gt;</span>
    <span class="c1">//]</span>
    <span class="p">{</span>
    <span class="k">public</span><span class="o">:</span>
        <span class="n">sine_counter</span><span class="p">()</span> <span class="o">:</span> <span class="n">current_value_</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">{}</span>
        <span class="n">sine_counter</span><span class="p">(</span><span class="n">hpx</span><span class="o">::</span><span class="n">performance_counters</span><span class="o">::</span><span class="n">counter_info</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">info</span><span class="p">);</span>

        <span class="c1">/// This function will be called in order to query the current value of</span>
        <span class="c1">/// this performance counter</span>
        <span class="n">hpx</span><span class="o">::</span><span class="n">performance_counters</span><span class="o">::</span><span class="n">counter_value</span> <span class="n">get_counter_value</span><span class="p">(</span><span class="kt">bool</span> <span class="n">reset</span><span class="p">);</span>

        <span class="c1">/// The functions below will be called to start and stop collecting</span>
        <span class="c1">/// counter values from this counter.</span>
        <span class="kt">bool</span> <span class="nf">start</span><span class="p">();</span>
        <span class="kt">bool</span> <span class="nf">stop</span><span class="p">();</span>

        <span class="c1">/// finalize() will be called just before the instance gets destructed</span>
        <span class="kt">void</span> <span class="nf">finalize</span><span class="p">();</span>

    <span class="k">protected</span><span class="o">:</span>
        <span class="kt">bool</span> <span class="n">evaluate</span><span class="p">();</span>

    <span class="k">private</span><span class="o">:</span>
        <span class="k">typedef</span> <span class="n">hpx</span><span class="o">::</span><span class="n">lcos</span><span class="o">::</span><span class="n">local</span><span class="o">::</span><span class="n">spinlock</span> <span class="n">mutex_type</span><span class="p">;</span>

        <span class="k">mutable</span> <span class="n">mutex_type</span> <span class="n">mtx_</span><span class="p">;</span>
        <span class="kt">double</span> <span class="n">current_value_</span><span class="p">;</span>
        <span class="n">std</span><span class="o">::</span><span class="kt">uint64_t</span> <span class="n">evaluated_at_</span><span class="p">;</span>

        <span class="n">hpx</span><span class="o">::</span><span class="n">util</span><span class="o">::</span><span class="n">interval_timer</span> <span class="n">timer_</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">}}}</span>

<span class="cp">#endif</span>
</pre></div>
</div>
<p>i.e. the type <code class="docutils literal notranslate"><span class="pre">sine_counter</span></code> is derived from the base class passing the type
as a template argument (please see [hpx_link
examples/performance_counters/sine/server/sine.hpp..sine.hpp] for the full
source code of the counter definition). For more information about this
technique (called Curiously Recurring Template Pattern - CRTP), please see for
instance the corresponding <a class="reference external" href="http://en.wikipedia.org/wiki/Curiously_recurring_template_pattern">Wikipedia article</a>. This base
class itself is derived from the <code class="docutils literal notranslate"><span class="pre">performance_counter</span></code> interface described
above.</p>
<p>Additionally, a full Performance Counter implementation not only exposes the
actual value but also provides information about</p>
<ul class="simple">
<li>The point in time a particular value was retrieved</li>
<li>A (sequential) invocation count</li>
<li>The actual counter value</li>
<li>An optional scaling coefficient</li>
<li>Information about the counter status</li>
</ul>
</div>
<div class="section" id="existing-hpx-performance-counters">
<span id="counters"></span><h3>Existing <em>HPX</em> performance counters<a class="headerlink" href="#existing-hpx-performance-counters" title="Permalink to this headline">¶</a></h3>
<p>The <em>HPX</em> runtime system exposes a wide variety of predefined Performance
Counters. These counters expose critical information about different modules of
the runtime system. They can help determine system bottlenecks and fine-tune
system and application performance.</p>
<table border="1" class="docutils" id="id9">
<caption><span class="caption-number">Table 41 </span><span class="caption-text"><a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> performance counters</span><a class="headerlink" href="#id9" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Counter type</td>
<td>Counter instance formatting</td>
<td>Description</td>
<td>Parameters</td>
</tr>
<tr class="row-even"><td><p class="first"><code class="docutils literal notranslate"><span class="pre">/agas/count/&lt;agas_service&gt;</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">&lt;agas_service&gt;</span></code> is one of the following:</p>
<p><em>primary namespace services</em>: <code class="docutils literal notranslate"><span class="pre">route</span></code>, <code class="docutils literal notranslate"><span class="pre">bind_gid</span></code>, <code class="docutils literal notranslate"><span class="pre">resolve_gid</span></code>,
<code class="docutils literal notranslate"><span class="pre">unbind_gid</span></code>, <code class="docutils literal notranslate"><span class="pre">increment_credit</span></code>, <code class="docutils literal notranslate"><span class="pre">decrement_credit</span></code>, <code class="docutils literal notranslate"><span class="pre">allocate</span></code>,
<code class="docutils literal notranslate"><span class="pre">begin_migration</span></code>, <code class="docutils literal notranslate"><span class="pre">end_migration</span></code></p>
<p><em>component namespace services</em>: <code class="docutils literal notranslate"><span class="pre">bind_prefix</span></code>, <code class="docutils literal notranslate"><span class="pre">bind_name</span></code>,
<code class="docutils literal notranslate"><span class="pre">resolve_id</span></code>, <code class="docutils literal notranslate"><span class="pre">unbind_name</span></code>, <code class="docutils literal notranslate"><span class="pre">iterate_types</span></code>,
<code class="docutils literal notranslate"><span class="pre">get_component_typename</span></code>, <code class="docutils literal notranslate"><span class="pre">num_localities_type</span></code></p>
<p><em>locality namespace services</em>: <code class="docutils literal notranslate"><span class="pre">free</span></code>, <code class="docutils literal notranslate"><span class="pre">localities</span></code>,
<code class="docutils literal notranslate"><span class="pre">num_localities</span></code>, <code class="docutils literal notranslate"><span class="pre">num_threads</span></code>, <code class="docutils literal notranslate"><span class="pre">resolve_locality</span></code>,
<code class="docutils literal notranslate"><span class="pre">resolved_localities</span></code></p>
<p class="last"><em>symbol namespace services</em>: <code class="docutils literal notranslate"><span class="pre">bind</span></code>, <code class="docutils literal notranslate"><span class="pre">resolve</span></code>, <code class="docutils literal notranslate"><span class="pre">unbind</span></code>,
<code class="docutils literal notranslate"><span class="pre">iterate_names</span></code>, <code class="docutils literal notranslate"><span class="pre">on_symbol_namespace_event</span></code></p>
</td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">&lt;agas_instance&gt;/total</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">&lt;agas_instance&gt;</span></code> is the name of the <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> service to query.
Currently, this value will be <code class="docutils literal notranslate"><span class="pre">locality#0</span></code> where <code class="docutils literal notranslate"><span class="pre">0</span></code> is the root
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> (the id of the locality hosting the <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a>
service).</p>
<p class="last">The value for <code class="docutils literal notranslate"><span class="pre">*</span></code> can be any <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id for the following
<code class="docutils literal notranslate"><span class="pre">&lt;agas_service&gt;</span></code>: <code class="docutils literal notranslate"><span class="pre">route</span></code>, <code class="docutils literal notranslate"><span class="pre">bind_gid</span></code>, <code class="docutils literal notranslate"><span class="pre">resolve_gid</span></code>,
<code class="docutils literal notranslate"><span class="pre">unbind_gid</span></code>, <code class="docutils literal notranslate"><span class="pre">increment_credit</span></code>, <code class="docutils literal notranslate"><span class="pre">decrement_credit</span></code>, <code class="docutils literal notranslate"><span class="pre">bin</span></code>,
<code class="docutils literal notranslate"><span class="pre">resolve</span></code>, <code class="docutils literal notranslate"><span class="pre">unbind</span></code>, and <code class="docutils literal notranslate"><span class="pre">iterate_names</span></code> (only the primary and
symbol <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> service components live on all localities, whereas
all other <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> services are available on <code class="docutils literal notranslate"><span class="pre">locality#0</span></code> only).</p>
</td>
<td>None</td>
<td>Returns the total number of invocations of the specified <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a>
service since its creation.</td>
</tr>
<tr class="row-odd"><td><p class="first"><code class="docutils literal notranslate"><span class="pre">/agas/&lt;agas_service_category&gt;/count</span></code></p>
<p>where:</p>
<dl class="last docutils">
<dt><code class="docutils literal notranslate"><span class="pre">&lt;agas_service_category&gt;</span></code> is one of the following: <code class="docutils literal notranslate"><span class="pre">primary</span></code>,</dt>
<dd><code class="docutils literal notranslate"><span class="pre">locality</span></code>, <code class="docutils literal notranslate"><span class="pre">component</span></code> or <code class="docutils literal notranslate"><span class="pre">symbol</span></code></dd>
</dl>
</td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">&lt;agas_instance&gt;/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">&lt;agas_instance&gt;</span></code> is the name of the <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> service to query.
Currently, this value will be <code class="docutils literal notranslate"><span class="pre">locality#0</span></code> where <code class="docutils literal notranslate"><span class="pre">0</span></code> is the root
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> (the id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> hosting the <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a>
service). Except for <code class="docutils literal notranslate"><span class="pre">&lt;agas_service_category&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">primary</span></code> or
<code class="docutils literal notranslate"><span class="pre">symbol</span></code> for which the value for <code class="docutils literal notranslate"><span class="pre">*</span></code> can be any <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id
(only the primary and symbol <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> service components live on all
localities, whereas all other <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> services are available on
<code class="docutils literal notranslate"><span class="pre">locality#0</span></code> only).</p>
</td>
<td>None</td>
<td>Returns the overall total number of invocations of all <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a>
services provided by the given <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> service category since its
creation.</td>
</tr>
<tr class="row-even"><td><p class="first"><code class="docutils literal notranslate"><span class="pre">agas/time/&lt;agas_service&gt;</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">&lt;agas_service&gt;</span></code> is one of the following:</p>
<p><em>primary namespace services</em>: <code class="docutils literal notranslate"><span class="pre">route</span></code>, <code class="docutils literal notranslate"><span class="pre">bind_gid</span></code>, <code class="docutils literal notranslate"><span class="pre">resolve_gid</span></code>,
<code class="docutils literal notranslate"><span class="pre">unbind_gid</span></code>, <code class="docutils literal notranslate"><span class="pre">increment_credit</span></code>, <code class="docutils literal notranslate"><span class="pre">decrement_credit</span></code>, <code class="docutils literal notranslate"><span class="pre">allocate</span></code>
<code class="docutils literal notranslate"><span class="pre">begin_migration</span></code>, <code class="docutils literal notranslate"><span class="pre">end_migration</span></code></p>
<p><em>component namespace services</em>: <code class="docutils literal notranslate"><span class="pre">bind_prefix</span></code>, <code class="docutils literal notranslate"><span class="pre">bind_name</span></code>,
<code class="docutils literal notranslate"><span class="pre">resolve_id</span></code>, <code class="docutils literal notranslate"><span class="pre">unbind_name</span></code>, <code class="docutils literal notranslate"><span class="pre">iterate_types</span></code>,
<code class="docutils literal notranslate"><span class="pre">get_component_typename</span></code>, <code class="docutils literal notranslate"><span class="pre">num_localities_type</span></code></p>
<p><em>locality namespace services</em>: <code class="docutils literal notranslate"><span class="pre">free</span></code>, <code class="docutils literal notranslate"><span class="pre">localities</span></code>,
<code class="docutils literal notranslate"><span class="pre">num_localities</span></code>, <code class="docutils literal notranslate"><span class="pre">num_threads</span></code>, <code class="docutils literal notranslate"><span class="pre">resolve_locality</span></code>,
<code class="docutils literal notranslate"><span class="pre">resolved_localities</span></code></p>
<p class="last"><em>symbol namespace services</em>: <code class="docutils literal notranslate"><span class="pre">bind</span></code>, <code class="docutils literal notranslate"><span class="pre">resolve</span></code>, <code class="docutils literal notranslate"><span class="pre">unbind</span></code>,
<code class="docutils literal notranslate"><span class="pre">iterate_names</span></code>, <code class="docutils literal notranslate"><span class="pre">on_symbol_namespace_event</span></code></p>
</td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">&lt;agas_instance&gt;/total</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">&lt;agas_instance&gt;</span></code> is the name of the <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> service to query.
Currently, this value will be <code class="docutils literal notranslate"><span class="pre">locality#0</span></code> where <code class="docutils literal notranslate"><span class="pre">0</span></code> is the root
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> (the id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> hosting the <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a>
service).</p>
<p class="last">The value for <code class="docutils literal notranslate"><span class="pre">*</span></code> can be any <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id for the following
<code class="docutils literal notranslate"><span class="pre">&lt;agas_service&gt;</span></code>: <code class="docutils literal notranslate"><span class="pre">route</span></code>, <code class="docutils literal notranslate"><span class="pre">bind_gid</span></code>, <code class="docutils literal notranslate"><span class="pre">resolve_gid</span></code>,
<code class="docutils literal notranslate"><span class="pre">unbind_gid</span></code>, <code class="docutils literal notranslate"><span class="pre">increment_credit</span></code>, <code class="docutils literal notranslate"><span class="pre">decrement_credit</span></code>, <code class="docutils literal notranslate"><span class="pre">bin</span></code>,
<code class="docutils literal notranslate"><span class="pre">resolve</span></code>, <code class="docutils literal notranslate"><span class="pre">unbind</span></code>, and <code class="docutils literal notranslate"><span class="pre">iterate_names</span></code> (only the primary and
symbol <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> service components live on all localities, whereas
all other <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> services are available on <code class="docutils literal notranslate"><span class="pre">locality#0</span></code> only).</p>
</td>
<td>None</td>
<td>Returns the overall execution time of the specified <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> service
since its creation (in nanoseconds).</td>
</tr>
<tr class="row-odd"><td><p class="first"><code class="docutils literal notranslate"><span class="pre">/agas/&lt;agas_service_category&gt;/time</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">&lt;agas_service_category&gt;</span></code> is one of the following: <code class="docutils literal notranslate"><span class="pre">primary</span></code>,
<code class="docutils literal notranslate"><span class="pre">locality</span></code>, <code class="docutils literal notranslate"><span class="pre">component</span></code> or <code class="docutils literal notranslate"><span class="pre">symbol</span></code>.</p>
</td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">&lt;agas_instance&gt;/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">&lt;agas_instance&gt;</span></code> is the name of the <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> service to query.
Currently, this value will be <code class="docutils literal notranslate"><span class="pre">locality#0</span></code> where <code class="docutils literal notranslate"><span class="pre">0</span></code> is the root
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> (the id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> hosting the <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a>
service). Except for <code class="docutils literal notranslate"><span class="pre">&lt;agas_service_category</span></code> <code class="docutils literal notranslate"><span class="pre">primary</span></code> or <code class="docutils literal notranslate"><span class="pre">symbol</span></code>
for which the value for <code class="docutils literal notranslate"><span class="pre">*</span></code> can be any <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id (only the
primary and symbol <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> service components live on all
localities, whereas all other <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> services are available on
<code class="docutils literal notranslate"><span class="pre">locality#0</span></code> only).</p>
</td>
<td>None</td>
<td>Returns the overall execution time of all <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> services provided
by the given <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> service category since its creation (in
nanoseconds).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/agas/count/entries</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a>
cache should be queried. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a (zero based) number
identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td>None</td>
<td>Returns the number of cache entries resident in the <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> cache of
the specified <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> (see <code class="docutils literal notranslate"><span class="pre">&lt;cache_statistics&gt;</span></code>).</td>
</tr>
<tr class="row-odd"><td><p class="first"><code class="docutils literal notranslate"><span class="pre">/agas/count/&lt;cache_statistics&gt;</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">&lt;cache_statistics&gt;</span></code> is one of the following: <code class="docutils literal notranslate"><span class="pre">cache/evictions</span></code>,
<code class="docutils literal notranslate"><span class="pre">cache/hits</span></code>, <code class="docutils literal notranslate"><span class="pre">cache/inserts</span></code>, <code class="docutils literal notranslate"><span class="pre">cache/misses</span></code></p>
</td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a>
cache should be queried. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a (zero based) number
identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td>None</td>
<td>Returns the number of cache events (evictions, hits, inserts, and misses)
in the <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> cache of the specified <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> (see
<code class="docutils literal notranslate"><span class="pre">&lt;cache_statistics&gt;</span></code>).</td>
</tr>
<tr class="row-even"><td><p class="first"><code class="docutils literal notranslate"><span class="pre">/agas/count/&lt;full_cache_statistics&gt;</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">&lt;full_cache_statistics&gt;</span></code> is one of the following: <code class="docutils literal notranslate"><span class="pre">cache/get_entry</span></code>,
<code class="docutils literal notranslate"><span class="pre">cache/insert_entry</span></code>, <code class="docutils literal notranslate"><span class="pre">cache/update_entry</span></code>, <code class="docutils literal notranslate"><span class="pre">cache/erase_entry</span></code></p>
</td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a>
cache should be queried. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a (zero based) number
identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td>None</td>
<td>Returns the number of invocations of the specified cache API function of
the <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> cache.</td>
</tr>
<tr class="row-odd"><td><p class="first"><code class="docutils literal notranslate"><span class="pre">/agas/time/&lt;full_cache_statistics&gt;</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">&lt;full_cache_statistics&gt;</span></code> is one of the following:
<code class="docutils literal notranslate"><span class="pre">cache/get_entry</span></code>, <code class="docutils literal notranslate"><span class="pre">cache/insert_entry</span></code>, <code class="docutils literal notranslate"><span class="pre">cache/update_entry</span></code>,
<code class="docutils literal notranslate"><span class="pre">cache/erase_entry</span></code></p>
</td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a>
cache should be queried. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a (zero based) number
identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td>None</td>
<td>Returns the overall time spent executing of the specified API function of
the <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> cache.</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils" id="id10">
<caption><span class="caption-number">Table 42 </span><span class="caption-text"><a class="reference internal" href="../terminology.html#term-parcel"><span class="xref std std-term">Parcel</span></a> layer performance counters</span><a class="headerlink" href="#id10" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Counter type</td>
<td>Counter instance formatting</td>
<td>Description</td>
<td>Parameters</td>
</tr>
<tr class="row-even"><td><p class="first"><code class="docutils literal notranslate"><span class="pre">/data/count/&lt;connection_type&gt;/&lt;operation&gt;</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">&lt;operation&gt;</span></code> is one of the following: <code class="docutils literal notranslate"><span class="pre">sent</span></code>, <code class="docutils literal notranslate"><span class="pre">received</span></code></p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">&lt;connection_type</span></code> is one of the following: <code class="docutils literal notranslate"><span class="pre">tcp</span></code>, <code class="docutils literal notranslate"><span class="pre">mpi</span></code></p>
</td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the overall
number of transmitted bytes should be queried for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>
id is a (zero based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td><p class="first">Returns the overall number of raw (uncompressed) bytes sent or received
(see <code class="docutils literal notranslate"><span class="pre">&lt;operation</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">en</span></code> or <code class="docutils literal notranslate"><span class="pre">eceived</span></code>) for the specified
<code class="docutils literal notranslate"><span class="pre">&lt;connection_type&gt;</span></code>.</p>
<p>The performance counters for the connection type <code class="docutils literal notranslate"><span class="pre">mpi</span></code> are available
only if the compile time constant <code class="docutils literal notranslate"><span class="pre">HPX_HAVE_PARCELPORT_MPI</span></code> was defined
while compiling the <em>HPX</em> core library (which is not defined by default,
the corresponding cmake configuration constant is
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_PARCELPORT_MPI</span></code>.</p>
<p class="last">Please see <a class="reference internal" href="building_hpx.html#cmake-variables"><span class="std std-ref">CMake variables used to configure HPX</span></a> for more details.</p>
</td>
<td>None</td>
</tr>
<tr class="row-odd"><td><p class="first"><code class="docutils literal notranslate"><span class="pre">/data/time/&lt;connection_type&gt;/&lt;operation&gt;</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">&lt;operation&gt;</span></code> is one of the following: <code class="docutils literal notranslate"><span class="pre">sent</span></code>, <code class="docutils literal notranslate"><span class="pre">received</span></code></p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">&lt;connection_type</span></code> is one of the following: <code class="docutils literal notranslate"><span class="pre">tcp</span></code>, <code class="docutils literal notranslate"><span class="pre">mpi</span></code></p>
</td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the total
transmission time should be queried for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a
(zero based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td><p class="first">Returns the total time (in nanoseconds) between the start of each
asynchronous transmission operation and the end of the corresponding
operation for the specified <code class="docutils literal notranslate"><span class="pre">&lt;connection_type&gt;</span></code> the given
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> (see <code class="docutils literal notranslate"><span class="pre">&lt;operation</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">en</span></code> or <code class="docutils literal notranslate"><span class="pre">eceived</span></code>).</p>
<p>The performance counters for the connection type <code class="docutils literal notranslate"><span class="pre">mpi</span></code> are available
only if the compile time constant <code class="docutils literal notranslate"><span class="pre">HPX_HAVE_PARCELPORT_MPI</span></code> was defined
while compiling the <em>HPX</em> core library (which is not defined by default,
the corresponding cmake configuration constant is
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_PARCELPORT_MPI</span></code>.</p>
<p class="last">Please see <a class="reference internal" href="building_hpx.html#cmake-variables"><span class="std std-ref">CMake variables used to configure HPX</span></a> for more details.</p>
</td>
<td>None</td>
</tr>
<tr class="row-even"><td><p class="first"><code class="docutils literal notranslate"><span class="pre">/serialize/count/&lt;connection_type&gt;/&lt;operation&gt;</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">&lt;operation&gt;</span></code> is one of the following: <code class="docutils literal notranslate"><span class="pre">sent</span></code>, <code class="docutils literal notranslate"><span class="pre">received</span></code></p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">&lt;connection_type</span></code> is one of the following: <code class="docutils literal notranslate"><span class="pre">tcp</span></code>, <code class="docutils literal notranslate"><span class="pre">mpi</span></code></p>
</td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the overall
number of transmitted bytes should be queried for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>
id is a (zero based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td><p class="first">Returns the overall number of bytes transferred (see <code class="docutils literal notranslate"><span class="pre">&lt;operation&gt;</span></code>,
e.g. <code class="docutils literal notranslate"><span class="pre">sent</span></code> or <code class="docutils literal notranslate"><span class="pre">received</span></code> possibly compressed) for the specified
<code class="docutils literal notranslate"><span class="pre">&lt;connection_type&gt;</span></code> by the given <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
<p>The performance counters for the connection type <code class="docutils literal notranslate"><span class="pre">mpi</span></code> are available
only if the compile time constant <code class="docutils literal notranslate"><span class="pre">HPX_HAVE_PARCELPORT_MPI</span></code> was defined
while compiling the <em>HPX</em> core library (which is not defined by default,
the corresponding cmake configuration constant is
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_PARCELPORT_MPI</span></code>.</p>
<p class="last">Please see <a class="reference internal" href="building_hpx.html#cmake-variables"><span class="std std-ref">CMake variables used to configure HPX</span></a> for more details.</p>
</td>
<td>If the configure-time option <code class="docutils literal notranslate"><span class="pre">-DHPX_WITH_PARCELPORT_ACTION_COUNTERS=On</span></code>
was specified, this counter allows to specify an optional action name as
its parameter. In this case the counter will report the number of bytes
transmitted for the given action only.</td>
</tr>
<tr class="row-odd"><td><p class="first"><code class="docutils literal notranslate"><span class="pre">/serialize/time/&lt;connection_type&gt;/&lt;operation&gt;</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">&lt;operation&gt;</span></code> is one of the following: <code class="docutils literal notranslate"><span class="pre">sent</span></code>, <code class="docutils literal notranslate"><span class="pre">received</span></code></p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">&lt;connection_type</span></code> is one of the following: <code class="docutils literal notranslate"><span class="pre">tcp</span></code>, <code class="docutils literal notranslate"><span class="pre">mpi</span></code></p>
</td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the
serialization time should be queried for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a
(zero based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td><p class="first">Returns the overall time spent performing outgoing data serialization for
the specified <code class="docutils literal notranslate"><span class="pre">&lt;connection_type&gt;</span></code> on the given <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> (see
<code class="docutils literal notranslate"><span class="pre">&lt;operation</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">sent</span></code> or <code class="docutils literal notranslate"><span class="pre">received</span></code>).</p>
<p>The performance counters for the connection type <code class="docutils literal notranslate"><span class="pre">mpi</span></code> are available
only if the compile time constant <code class="docutils literal notranslate"><span class="pre">HPX_HAVE_PARCELPORT_MPI</span></code> was defined
while compiling the <em>HPX</em> core library (which is not defined by default,
the corresponding cmake configuration constant is
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_PARCELPORT_MPI</span></code>.</p>
<p class="last">Please see <a class="reference internal" href="building_hpx.html#cmake-variables"><span class="std std-ref">CMake variables used to configure HPX</span></a> for more details.</p>
</td>
<td>If the configure-time option <code class="docutils literal notranslate"><span class="pre">-DHPX_WITH_PARCELPORT_ACTION_COUNTERS=On</span></code>
was specified, this counter allows to specify an optional action name as
its parameter. In this case the counter will report the serialization
time for the given action only.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/parcels/count/routed</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the number of
routed parcels should be queried for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a (zero
based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td><p class="first">Returns the overall number of routed (outbound) parcels transferred by
the given <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
<p class="last">Routed parcels are those which cannot directly be delivered to its
destination as the local <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> is not able to resolve the
destination address. In this case a parcel is sent to the <a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a>
service component which is responsible for creating the destination GID
(and is responsible for resolving the destination address). This
<a class="reference internal" href="../terminology.html#term-agas"><span class="xref std std-term">AGAS</span></a> service component will deliver the parcel to its final
target.</p>
</td>
<td>If the configure-time option <code class="docutils literal notranslate"><span class="pre">-DHPX_WITH_PARCELPORT_ACTION_COUNTERS=On</span></code>
was specified, this counter allows to specify an optional action name as
its parameter. In this case the counter will report the number of parcels
for the given action only.</td>
</tr>
<tr class="row-odd"><td><p class="first"><code class="docutils literal notranslate"><span class="pre">/parcels/count/&lt;connection_type&gt;/&lt;operation&gt;</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">&lt;operation&gt;</span></code> is one of the following: <code class="docutils literal notranslate"><span class="pre">sent</span></code>, <code class="docutils literal notranslate"><span class="pre">received</span></code></p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">&lt;connection_type</span></code> is one of the following: <code class="docutils literal notranslate"><span class="pre">tcp</span></code>, <code class="docutils literal notranslate"><span class="pre">mpi</span></code></p>
</td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the number of
parcels should be queried for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a (zero based)
number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td><p class="first">Returns the overall number of parcels transferred using the specified
<code class="docutils literal notranslate"><span class="pre">&lt;connection_type</span></code> by the given <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> (see <code class="docutils literal notranslate"><span class="pre">operation&gt;</span></code>,
e.g. <code class="docutils literal notranslate"><span class="pre">sent</span></code> or <code class="docutils literal notranslate"><span class="pre">received</span></code>.</p>
<p>The performance counters for the connection type <code class="docutils literal notranslate"><span class="pre">mpi</span></code> are available
only if the compile time constant <code class="docutils literal notranslate"><span class="pre">HPX_HAVE_PARCELPORT_MPI</span></code> was defined
while compiling the <em>HPX</em> core library (which is not defined by default,
the corresponding cmake configuration constant is
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_PARCELPORT_MPI</span></code>.</p>
<p class="last">Please see <a class="reference internal" href="building_hpx.html#cmake-variables"><span class="std std-ref">CMake variables used to configure HPX</span></a> for more details.</p>
</td>
<td>None</td>
</tr>
<tr class="row-even"><td><p class="first"><code class="docutils literal notranslate"><span class="pre">/messages/count/&lt;connection_type&gt;/&lt;operation&gt;</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">&lt;operation&gt;</span></code> is one of the following: <code class="docutils literal notranslate"><span class="pre">sent</span></code>, <code class="docutils literal notranslate"><span class="pre">received</span></code></p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">&lt;connection_type</span></code> is one of the following: <code class="docutils literal notranslate"><span class="pre">tcp</span></code>, <code class="docutils literal notranslate"><span class="pre">mpi</span></code></p>
</td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the number of
messages should be queried for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a (zero based)
number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td><p class="first">Returns the overall number of messages <a class="footnote-reference" href="#id5" id="id4">[1]</a> transferred using the
specified <code class="docutils literal notranslate"><span class="pre">&lt;connection_type&gt;</span></code> by the given <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> (see
<code class="docutils literal notranslate"><span class="pre">&lt;operation</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">sent</span></code> or <code class="docutils literal notranslate"><span class="pre">received</span></code>)</p>
<p>The performance counters for the connection type <code class="docutils literal notranslate"><span class="pre">mpi</span></code> are available
only if the compile time constant <code class="docutils literal notranslate"><span class="pre">HPX_HAVE_PARCELPORT_MPI</span></code> was defined
while compiling the <em>HPX</em> core library (which is not defined by default,
the corresponding cmake configuration constant is
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_PARCELPORT_MPI</span></code>.</p>
<p class="last">Please see <a class="reference internal" href="building_hpx.html#cmake-variables"><span class="std std-ref">CMake variables used to configure HPX</span></a> for more details.</p>
</td>
<td>None</td>
</tr>
<tr class="row-odd"><td><p class="first"><code class="docutils literal notranslate"><span class="pre">/parcelport/count/&lt;connection_type&gt;/&lt;cache_statistics&gt;</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">&lt;cache_statistics&gt;</span></code> is one of the following: <code class="docutils literal notranslate"><span class="pre">cache/insertions</span></code>,
<code class="docutils literal notranslate"><span class="pre">cache/evictions</span></code>, <code class="docutils literal notranslate"><span class="pre">cache/hits</span></code>, <code class="docutils literal notranslate"><span class="pre">cache/misses</span></code> <code class="docutils literal notranslate"><span class="pre">cache/misses</span></code></p>
<p class="last"><cite>&lt;connection_type`</cite> is one of the following: <code class="docutils literal notranslate"><span class="pre">tcp</span></code>, <code class="docutils literal notranslate"><span class="pre">mpi</span></code></p>
</td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the number of
messages should be queried for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a (zero based)
number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td><p class="first">Returns the overall number cache events (evictions, hits, inserts,
misses, and reclaims) for the connection cache of the given connection
type on the given <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> (see <code class="docutils literal notranslate"><span class="pre">&lt;cache_statistics</span></code>, e.g.
<code class="docutils literal notranslate"><span class="pre">ache/insertions</span></code>, <code class="docutils literal notranslate"><span class="pre">cache/evictions</span></code>, <code class="docutils literal notranslate"><span class="pre">cache/hits</span></code>,
<code class="docutils literal notranslate"><span class="pre">cache/misses</span></code> or``cache/reclaims``.</p>
<p>The performance counters for the connection type <code class="docutils literal notranslate"><span class="pre">mpi</span></code> are available
only if the compile time constant <code class="docutils literal notranslate"><span class="pre">HPX_HAVE_PARCELPORT_MPI</span></code> was defined
while compiling the <em>HPX</em> core library (which is not defined by default,
the corresponding cmake configuration constant is
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_PARCELPORT_MPI</span></code>.</p>
<p class="last">Please see <a class="reference internal" href="building_hpx.html#cmake-variables"><span class="std std-ref">CMake variables used to configure HPX</span></a> for more details.</p>
</td>
<td>None</td>
</tr>
<tr class="row-even"><td><p class="first"><code class="docutils literal notranslate"><span class="pre">/parcelqueue/length/&lt;operation&gt;</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">&lt;operation&gt;</span></code> is one of the following: <code class="docutils literal notranslate"><span class="pre">send</span></code>, <code class="docutils literal notranslate"><span class="pre">receive</span></code></p>
</td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the <a class="reference internal" href="../terminology.html#term-parcel"><span class="xref std std-term">parcel</span></a> queue
should be queried. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a (zero based) number
identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td>Returns the current number of parcels stored in the <a class="reference internal" href="../terminology.html#term-parcel"><span class="xref std std-term">parcel</span></a> queue (see
<code class="docutils literal notranslate"><span class="pre">&lt;operation</span></code> for which queue to query, e.g. <code class="docutils literal notranslate"><span class="pre">sent</span></code> or <code class="docutils literal notranslate"><span class="pre">received</span></code>).</td>
<td>None</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils" id="id11">
<caption><span class="caption-number">Table 43 </span><span class="caption-text">Thread manager performance counters</span><a class="headerlink" href="#id11" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Counter type</td>
<td>Counter instance formatting</td>
<td>Description</td>
<td>Parameters</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/threads/count/cumulative</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/worker-thread#*</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/pool#*/worker-thread#*</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> for which the overall
number of retired <em>HPX</em>-threads should be queried for. The
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id (given by <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number identifying
the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
<dl class="last docutils">
<dt><code class="docutils literal notranslate"><span class="pre">pool#*</span></code> is defining the pool for which the current value of the</dt>
<dd>idle-loop counter should be queried for.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> is defining the worker thread for which the overall</dt>
<dd>number of retired <em>HPX</em>-threads should be queried for. The worker thread
number (given by the <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number identifying the
worker thread. The number of available worker threads is usually
specified on the command line for the application using the option
<a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>. If no pool-name is specified the counter refers
to the ‘default’ pool.</dd>
</dl>
</td>
<td>Returns the overall number of executed (retired) <em>HPX</em>-threads on the
given <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> since application start. If the instance name is
<code class="docutils literal notranslate"><span class="pre">total</span></code> the counter returns the accumulated number of retired
<em>HPX</em>-threads for all worker threads (cores) on that <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>. If
the instance name is <code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> the counter will return the
overall number of retired <em>HPX</em>-threads for all worker threads
separately. This counter is available only if the configuration time
constant <code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_CUMULATIVE_COUNTS</span></code> is set to <code class="docutils literal notranslate"><span class="pre">ON</span></code> (default:
<code class="docutils literal notranslate"><span class="pre">ON</span></code>).</td>
<td>None</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/threads/time/average</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/worker-thread#*</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/pool#*/worker-thread#*</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> for which the average
time spent executing one <em>HPX</em>-thread should be queried for. The
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id (given by <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number identifying
the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">pool#*</span></code> is defining the pool for which the current value of the
idle-loop counter should be queried for.</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> is defining the worker thread for which the average
time spent executing one <em>HPX</em>-thread should be queried for. The worker
thread number (given by the <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number identifying
the worker thread. The number of available worker threads is usually
specified on the command line for the application using the option
<a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>. If no pool-name is specified the counter refers
to the ‘default’ pool.</p>
</td>
<td>Returns the average time spent executing one <em>HPX</em>-thread on the given
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> since application start. If the instance name is <code class="docutils literal notranslate"><span class="pre">total</span></code>
the counter returns the average time spent executing one <em>HPX</em>-thread for
all worker threads (cores) on that <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>. If the instance name
is <code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> the counter will return the average time spent
executing one <em>HPX</em>-thread for all worker threads separately. This counter
is available only if the configuration time constants
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_CUMULATIVE_COUNTS</span></code> (default: <code class="docutils literal notranslate"><span class="pre">ON</span></code>) and
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_IDLE_RATES</span></code> are set to <code class="docutils literal notranslate"><span class="pre">ON</span></code> (default: <code class="docutils literal notranslate"><span class="pre">OFF</span></code>). The unit
of measure for this counter is nanosecond [ns].</td>
<td>None</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/threads/time/average-overhead</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/worker-thread#*</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/pool#*/worker-thread#*</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> for which the average
overhead spent executing one <em>HPX</em>-thread should be queried for. The
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id (given by <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number identifying
the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">pool#*</span></code> is defining the pool for which the current value of the
idle-loop counter should be queried for.</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> is defining the worker thread for which the average
overhead spent executing one <em>HPX</em>-thread should be queried for. The
worker thread number (given by the <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number
identifying the worker thread. The number of available worker threads is
usually specified on the command line for the application using the
option <a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>. If no pool-name is specified the counter
refers to the ‘default’ pool.</p>
</td>
<td>Returns the average time spent on overhead while executing one
<em>HPX</em>-thread on the given <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> since application start. If
the instance name is <code class="docutils literal notranslate"><span class="pre">total</span></code> the counter returns the average time spent
on overhead while executing one <em>HPX</em>-thread for all worker threads
(cores) on that <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>. If the instance name is
<code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> the counter will return the average time spent on
overhead executing one <em>HPX</em>-thread for all worker threads separately.
This counter is available only if the configuration time constants
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_CUMULATIVE_COUNTS</span></code> (default: <code class="docutils literal notranslate"><span class="pre">ON</span></code>) and
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_IDLE_RATES</span></code> are set to <code class="docutils literal notranslate"><span class="pre">ON</span></code> (default: <code class="docutils literal notranslate"><span class="pre">OFF</span></code>). The
unit of measure for this counter is nanosecond [ns].</td>
<td>None</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/threads/count/cumulative-phases</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/worker-thread#*</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/pool#*/worker-thread#*</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> for which the overall
number of executed <em>HPX</em>-thread phases (invocations) should be queried
for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id (given by <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number
identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">pool#*</span></code> is defining the pool for which the current value of the
idle-loop counter should be queried for.</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> is defining the worker thread for which the overall
number of executed <em>HPX</em>-thread phases (invocations) should be queried
for. The worker thread number (given by the <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based)
number identifying the worker thread. The number of available worker
threads is usually specified on the command line for the application
using the option <a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>. If no pool-name is specified
the counter refers to the ‘default’ pool.</p>
</td>
<td>Returns the overall number of executed <em>HPX</em>-thread phases (invocations)
on the given <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> since application start. If the instance
name is <code class="docutils literal notranslate"><span class="pre">total</span></code> the counter returns the accumulated number of executed
<em>HPX</em>-thread phases (invocations) for all worker threads (cores) on that
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>. If the instance name is <code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> the counter
will return the overall number of executed <em>HPX</em>-thread phases for all
worker threads separately. This counter is available only if the
configuration time constant <code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_CUMULATIVE_COUNTS</span></code> is set
to <code class="docutils literal notranslate"><span class="pre">ON</span></code> (default: <code class="docutils literal notranslate"><span class="pre">ON</span></code>). The unit of measure for this counter is
nanosecond [ns].</td>
<td>None</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/threads/time/average-phase</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/worker-thread#*</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/pool#*/worker-thread#*</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> for which the average
time spent executing one <em>HPX</em>-thread phase (invocation) should be
queried for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id (given by <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based)
number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">pool#*</span></code> is defining the pool for which the current value of the
idle-loop counter should be queried for.</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> is defining the worker thread for which the average
time executing one <em>HPX</em>-thread phase (invocation) should be queried for.
The worker thread number (given by the <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number
identifying the worker thread. The number of available worker threads is
usually specified on the command line for the application using the
option <a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>. If no pool-name is specified the counter
refers to the ‘default’ pool.</p>
</td>
<td>Returns the average time spent executing one <em>HPX</em>-thread phase
(invocation) on the given <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> since application start. If
the instance name is <code class="docutils literal notranslate"><span class="pre">total</span></code> the counter returns the average time spent
executing one <em>HPX</em>-thread phase (invocation) for all worker threads
(cores) on that <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>. If the instance name is
<code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> the counter will return the average time spent
executing one <em>HPX</em>-thread phase for all worker threads separately. This
counter is available only if the configuration time constants
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_CUMULATIVE_COUNTS</span></code> (default: <code class="docutils literal notranslate"><span class="pre">ON</span></code>) and
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_IDLE_RATES</span></code> are set to <code class="docutils literal notranslate"><span class="pre">ON</span></code> (default: <code class="docutils literal notranslate"><span class="pre">OFF</span></code>). The
unit of measure for this counter is nanosecond [ns].</td>
<td>None</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/threads/time/average-phase-overhead</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/worker-thread#*</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/pool#*/worker-thread#*</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> for which the average
time overhead executing one <em>HPX</em>-thread phase (invocation) should be
queried for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id (given by <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based)
number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">pool#*</span></code> is defining the pool for which the current value of the
idle-loop counter should be queried for.</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> is defining the worker thread for which the average
overhead executing one <em>HPX</em>-thread phase (invocation) should be queried
for. The worker thread number (given by the <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based)
number identifying the worker thread. The number of available worker
threads is usually specified on the command line for the application
using the option <a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>. If no pool-name is specified
the counter refers to the ‘default’ pool.</p>
</td>
<td>Returns the average time spent on overhead executing one <em>HPX</em>-thread
phase (invocation) on the given <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> since application start.
If the instance name is <code class="docutils literal notranslate"><span class="pre">total</span></code> the counter returns the average time
spent on overhead while executing one <em>HPX</em>-thread phase (invocation) for
all worker threads (cores) on that <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>. If the instance name
is <code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> the counter will return the average time spent on
overhead executing one <em>HPX</em>-thread phase for all worker threads
separately. This counter is available only if the configuration time
constants <code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_CUMULATIVE_COUNTS</span></code> (default: <code class="docutils literal notranslate"><span class="pre">ON</span></code>) and
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_IDLE_RATES</span></code> are set to <code class="docutils literal notranslate"><span class="pre">ON</span></code> (default: <code class="docutils literal notranslate"><span class="pre">OFF</span></code>). The
unit of measure for this counter is nanosecond [ns].</td>
<td>None</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/threads/time/overall</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/worker-thread#*</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/pool#*/worker-thread#*</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> for which the overall
time spent running the scheduler should be queried for. The
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id (given by <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number identifying
the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">pool#*</span></code> is defining the pool for which the current value of the
idle-loop counter should be queried for.</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> is defining the worker thread for which the overall
time spent running the scheduler should be queried for. The worker thread
number (given by the <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number identifying the
worker thread. The number of available worker threads is usually
specified on the command line for the application using the option
<a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>. If no pool-name is specified the counter refers
to the ‘default’ pool.</p>
</td>
<td>Returns the overall time spent running the scheduler on the given
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> since application start. If the instance name is <code class="docutils literal notranslate"><span class="pre">total</span></code>
the counter returns the overall time spent running the scheduler for all
worker threads (cores) on that <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>. If the instance name is
<code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> the counter will return the overall time spent running
the scheduler for all worker threads separately. This counter is available
only if the configuration time constant <code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_IDLE_RATES</span></code> is
set to <code class="docutils literal notranslate"><span class="pre">ON</span></code> (default: <code class="docutils literal notranslate"><span class="pre">OFF</span></code>). The unit of measure for this counter is
nanosecond [ns].</td>
<td>None</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/threads/time/cumulative</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/worker-thread#*</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/pool#*/worker-thread#*</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> for which the overall
time spent executing all <em>HPX</em>-threads should be queried for. The
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id (given by <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number identifying
the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">pool#*</span></code> is defining the pool for which the current value of the
idle-loop counter should be queried for.</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> is defining the worker thread for which the overall
time spent executing all <em>HPX</em>-threads should be queried for. The worker
thread number (given by the <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number identifying
the worker thread. The number of available worker threads is usually
specified on the command line for the application using the option
<a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>. If no pool-name is specified the counter refers
to the ‘default’ pool.</p>
</td>
<td>Returns the overall time spent executing all <em>HPX</em>-threads on the given
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> since application start. If the instance name is <code class="docutils literal notranslate"><span class="pre">total</span></code>
the counter returns the overall time spent executing all <em>HPX</em>-threads for
all worker threads (cores) on that <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>. If the instance name
is <code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> the counter will return the overall time spent
executing all <em>HPX</em>-threads for all worker threads separately. This counter
is available only if the configuration time constants
<code class="docutils literal notranslate"><span class="pre">HPX_THREAD_MAINTAIN_CUMULATIVE_COUNTS</span></code> (default: <code class="docutils literal notranslate"><span class="pre">ON</span></code>) and
<code class="docutils literal notranslate"><span class="pre">HPX_THREAD_MAINTAIN_IDLE_RATES</span></code> are set to <code class="docutils literal notranslate"><span class="pre">ON</span></code> (default: <code class="docutils literal notranslate"><span class="pre">OFF</span></code>).</td>
<td>None</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/threads/time/cumulative-overheads</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/worker-thread#*</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/pool#*/worker-thread#*</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> for which the overall
overhead time incurred by executing all <em>HPX</em>-threads should be queried
for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id (given by <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number
identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">pool#*</span></code> is defining the pool for which the current value of the
idle-loop counter should be queried for.</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> is defining the worker thread for which the the
overall overhead time incurred by executing all <em>HPX</em>-threads should be
queried for. The worker thread number (given by the <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero
based) number identifying the worker thread. The number of available
worker threads is usually specified on the command line for the
application using the option <a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>. If no pool-name is
specified the counter refers to the ‘default’ pool.</p>
</td>
<td>Returns the overall overhead time incurred executing all <em>HPX</em>-threads on
the given <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> since application start. If the instance name
is <code class="docutils literal notranslate"><span class="pre">total</span></code> the counter returns the overall overhead time incurred
executing all <em>HPX</em>-threads for all worker threads (cores) on that
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>. If the instance name is <code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> the counter
will return the overall overhead time incurred executing all
<em>HPX</em>-threads for all worker threads separately. This counter is
available only if the configuration time constants
<code class="docutils literal notranslate"><span class="pre">HPX_THREAD_MAINTAIN_CUMULATIVE_COUNTS</span></code> (default: <code class="docutils literal notranslate"><span class="pre">ON</span></code>) and
<code class="docutils literal notranslate"><span class="pre">HPX_THREAD_MAINTAIN_IDLE_RATES</span></code> are set to <code class="docutils literal notranslate"><span class="pre">ON</span></code> (default: <code class="docutils literal notranslate"><span class="pre">OFF</span></code>).
The unit of measure for this counter is nanosecond [ns].</td>
<td>None</td>
</tr>
<tr class="row-odd"><td><p class="first"><code class="docutils literal notranslate"><span class="pre">threads/count/instantaneous/&lt;thread-state&gt;</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">&lt;thread-state&gt;</span></code> is one of the following: <code class="docutils literal notranslate"><span class="pre">all</span></code>, <code class="docutils literal notranslate"><span class="pre">active</span></code>,
<code class="docutils literal notranslate"><span class="pre">pending</span></code>, <code class="docutils literal notranslate"><span class="pre">suspended</span></code>, <code class="docutils literal notranslate"><span class="pre">terminated</span></code>, <code class="docutils literal notranslate"><span class="pre">staged</span></code></p>
</td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/worker-thread#*</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/pool#*/worker-thread#*</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> for which the current
number of threads with the given state should be queried for. The
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id (given by <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number identifying
the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">pool#*</span></code> is defining the pool for which the current value of the
idle-loop counter should be queried for.</p>
<p><code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> is defining the worker thread for which the current
number of threads with the given state should be queried for. The worker
thread number (given by the <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number identifying
the worker thread. The number of available worker threads is usually
specified on the command line for the application using the option
<a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>. If no pool-name is specified the counter refers
to the ‘default’ pool.</p>
<p class="last">The <code class="docutils literal notranslate"><span class="pre">staged</span></code> thread state refers to registered tasks before they are
converted to thread objects.</p>
</td>
<td>Returns the current number of <em>HPX</em>-threads having the given thread state
on the given <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>. If the instance name is <code class="docutils literal notranslate"><span class="pre">total</span></code> the
counter returns the current number of <em>HPX</em>-threads of the given state
for all worker threads (cores) on that <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>. If the instance
name is <code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> the counter will return the current number of
<em>HPX</em>-threads in the given state for all worker threads separately.</td>
<td>None</td>
</tr>
<tr class="row-even"><td><p class="first"><code class="docutils literal notranslate"><span class="pre">threads/wait-time/&lt;thread-state&gt;</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">&lt;thread-state&gt;</span></code> is one of the following: <code class="docutils literal notranslate"><span class="pre">pending</span></code> <code class="docutils literal notranslate"><span class="pre">staged</span></code></p>
</td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/worker-thread#*</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/pool#*/worker-thread#*</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> for which the average
wait time of <em>HPX</em>-threads (pending) or thread descriptions (staged) with
the given state should be queried for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id (given by
<code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">pool#*</span></code> is defining the pool for which the current value of the
idle-loop counter should be queried for.</p>
<p><code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> is defining the worker thread for which the average
wait time for the given state should be queried for. The worker thread
number (given by the <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number identifying the
worker thread. The number of available worker threads is usually
specified on the command line for the application using the option
<a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>. If no pool-name is specified the counter refers
to the ‘default’ pool.</p>
<p class="last">The <code class="docutils literal notranslate"><span class="pre">staged</span></code> thread state refers to the wait time of registered tasks
before they are converted into thread objects, while the <code class="docutils literal notranslate"><span class="pre">pending</span></code>
thread state refers to the wait time of threads in any of the scheduling
queues.</p>
</td>
<td><p class="first">Returns the average wait time of <em>HPX</em>-threads (if the thread state is
<code class="docutils literal notranslate"><span class="pre">pending</span></code> or of task descriptions (if the thread state is <code class="docutils literal notranslate"><span class="pre">staged</span></code> on
the given <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> since application start. If the instance name
is <code class="docutils literal notranslate"><span class="pre">total</span></code> the counter returns the wait time of <em>HPX</em>-threads of the
given state for all worker threads (cores) on that <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>. If
the instance name is <code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> the counter will return the wait
time of <em>HPX</em>-threads in the given state for all worker threads
separately.</p>
<p class="last">These counters are available only if the compile time constant
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_QUEUE_WAITTIME</span></code> was defined while compiling the <em>HPX</em>
core library (default: <code class="docutils literal notranslate"><span class="pre">OFF</span></code>). The unit of measure for this counter is
nanosecond [ns].</p>
</td>
<td>None</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/threads/idle-rate</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/worker-thread#*</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/pool#*/worker-thread#*</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> for which the average
idle rate of all (or one) worker threads should be queried for. The
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id (given by <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number identifying
the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a></p>
<p><code class="docutils literal notranslate"><span class="pre">pool#*</span></code> is defining the pool for which the current value of the
idle-loop counter should be queried for.</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> is defining the worker thread for which the averaged
idle rate should be queried for. The worker thread number (given by the
<code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number identifying the worker thread. The number
of available worker threads is usually specified on the command line for
the application using the option <a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>. If no pool-name
is specified the counter refers to the ‘default’ pool.</p>
</td>
<td>Returns the average idle rate for the given worker thread(s) on the given
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>. The idle rate is defined as the ratio of the time spent
on scheduling and management tasks and the overall time spent executing
work since the application started. This counter is available only if the
configuration time constant <code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_IDLE_RATES</span></code> is set to <code class="docutils literal notranslate"><span class="pre">ON</span></code>
(default: <code class="docutils literal notranslate"><span class="pre">OFF</span></code>).</td>
<td>None</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/threads/creation-idle-rate</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/worker-thread#*</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/pool#*/worker-thread#*</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> for which the average
creation idle rate of all (or one) worker threads should be queried for.
The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id (given by <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number
identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">pool#*</span></code> is defining the pool for which the current value of the
idle-loop counter should be queried for.</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> is defining the worker thread for which the averaged
idle rate should be queried for. The worker thread number (given by the
<code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number identifying the worker thread. The number
of available worker threads is usually specified on the command line for
the application using the option <a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>. If no pool-name
is specified the counter refers to the ‘default’ pool.</p>
</td>
<td>Returns the average idle rate for the given worker thread(s) on the given
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> which is caused by creating new threads. The creation idle
rate is defined as the ratio of the time spent on creating new threads and
the overall time spent executing work since the application started. This
counter is available only if the configuration time constants
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_IDLE_RATES</span></code> (default: <code class="docutils literal notranslate"><span class="pre">OFF</span></code>) and
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_CREATION_AND_CLEANUP_RATES</span></code> are set to <code class="docutils literal notranslate"><span class="pre">ON</span></code>.</td>
<td>None</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/threads/cleanup-idle-rate</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/worker-thread#*</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/pool#*/worker-thread#*</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> for which the average
cleanup idle rate of all (or one) worker threads should be queried for.
The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id (given by <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number
identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">pool#*</span></code> is defining the pool for which the current value of the
idle-loop counter should be queried for.</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> is defining the worker thread for which the averaged
cleanup idle rate should be queried for. The worker thread number (given
by the <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number identifying the worker thread. The
number of available worker threads is usually specified on the command
line for the application using the option <a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>. If no
pool-name is specified the counter refers to the ‘default’ pool.</p>
</td>
<td>Returns the average idle rate for the given worker thread(s) on the given
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> which is caused by cleaning up terminated threads. The
cleanup idle rate is defined as the ratio of the time spent on cleaning up
terminated thread objects and the overall time spent executing work since
the application started. This counter is available only if the
configuration time constants <code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_IDLE_RATES</span></code> (default:
<code class="docutils literal notranslate"><span class="pre">OFF</span></code>) and <code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_CREATION_AND_CLEANUP_RATES</span></code> are set to
<code class="docutils literal notranslate"><span class="pre">ON</span></code>.</td>
<td>None</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/threadqueue/length</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/worker-thread#*</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/pool#*/worker-thread#*</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> for which the current
length of all thread queues in the scheduler for all (or one) worker
threads should be queried for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id (given by <code class="docutils literal notranslate"><span class="pre">*</span></code> is
a (zero based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">pool#*</span></code> is defining the pool for which the current value of the
idle-loop counter should be queried for.</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> is defining the worker thread for which the current
length of all thread queues in the scheduler should be queried for. The
worker thread number (given by the <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number
identifying the worker thread. The number of available worker threads is
usually specified on the command line for the application using the
option <a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>. If no pool-name is specified the counter
refers to the ‘default’ pool.</p>
</td>
<td>Returns the overall length of all queues for the given worker thread(s)
on the given <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</td>
<td>None</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/threads/count/stack-unbinds</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the unbind
(madvise) operations should be queried for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a
(zero based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td>Returns the total number of <em>HPX</em>-thread unbind (madvise) operations
performed for the referenced <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>. Note that this counter is
not available on Windows based platforms.</td>
<td>None</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/threads/count/stack-recycles</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the recycling
operations should be queried for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a (zero
based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td>Returns the total number of <em>HPX</em>-thread recycling operations performed.</td>
<td>None</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/threads/count/stolen-from-pending</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<blockquote>
<div>where:</div></blockquote>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the number of
‘stole’ threads should be queried for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a (zero
based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td>Returns the total number of <em>HPX</em>-threads ‘stolen’ from the pending
thread queue by a neighboring thread worker thread (these threads are
executed by a different worker thread than they were initially scheduled
on). This counter is available only if the configuration time constant
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_STEALING_COUNTS</span></code> is set to <code class="docutils literal notranslate"><span class="pre">ON</span></code> (default: <code class="docutils literal notranslate"><span class="pre">ON</span></code>).</td>
<td>None</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/threads/count/pending-misses</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/worker-thread#*</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/pool#*/worker-thread#*</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> for which the number of
pending queue misses of all (or one) worker threads should be queried
for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id (given by <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number
identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a></p>
<p><code class="docutils literal notranslate"><span class="pre">pool#*</span></code> is defining the pool for which the current value of the
idle-loop counter should be queried for.</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> is defining the worker thread for which the number of
pending queue misses should be queried for. The worker thread number
(given by the <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number identifying the worker
thread. The number of available worker threads is usually specified on
the command line for the application using the option
<a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>. If no pool-name is specified the counter refers
to the ‘default’ pool.</p>
</td>
<td>Returns the total number of times that the referenced worker-thread on
the referenced <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> failed to find pending <em>HPX</em>-threads in
its associated queue. This counter is available only if the configuration
time constant <code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_STEALING_COUNTS</span></code> is set to <code class="docutils literal notranslate"><span class="pre">ON</span></code>
(default: <code class="docutils literal notranslate"><span class="pre">ON</span></code>).</td>
<td>None</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/threads/count/pending-accesses</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/worker-thread#*</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/pool#*/worker-thread#*</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> for which the number of
pending queue accesses of all (or one) worker threads should be queried
for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id (given by <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number
identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a></p>
<p><code class="docutils literal notranslate"><span class="pre">pool#*</span></code> is defining the pool for which the current value of the
idle-loop counter should be queried for.</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> is defining the worker thread for which the number of
pending queue accesses should be queried for. The worker thread number
(given by the <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number identifying the worker
thread. The number of available worker threads is usually specified on
the command line for the application using the option
<a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>. If no pool-name is specified the counter refers
to the ‘default’ pool.</p>
</td>
<td>Returns the total number of times that the referenced worker-thread on
the referenced <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> looked for pending <em>HPX</em>-threads in its
associated queue. This counter is available only if the configuration
time constant <code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_STEALING_COUNTS</span></code> is set to <code class="docutils literal notranslate"><span class="pre">ON</span></code>
(default: <code class="docutils literal notranslate"><span class="pre">ON</span></code>).</td>
<td>None</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/threads/count/stolen-from-staged</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/worker-thread#*</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/pool#*/worker-thread#*</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> for which the number of
<em>HPX</em>-threads stolen from the staged queue of all (or one) worker threads
should be queried for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id (given by <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero
based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">pool#*</span></code> is defining the pool for which the current value of the
idle-loop counter should be queried for.</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> is defining the worker thread for which the number of
<em>HPX</em>-threads stolen from the staged queue should be queried for. The
worker thread number (given by the <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number
identifying the worker thread. The number of available worker threads is
usually specified on the command line for the application using the
option <a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>. If no pool-name is specified the counter
refers to the ‘default’ pool.</p>
</td>
<td>Returns the total number of <em>HPX</em>-threads ‘stolen’ from the staged thread
queue by a neighboring worker thread (these threads are executed by a
different worker thread than they were initially scheduled on). This
counter is available only if the configuration time constant
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_STEALING_COUNTS</span></code> is set to <code class="docutils literal notranslate"><span class="pre">ON</span></code> (default: <code class="docutils literal notranslate"><span class="pre">ON</span></code>).</td>
<td>None</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/threads/count/stolen-to-pending</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/worker-thread#*</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/pool#*/worker-thread#*</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> for which the number of
<em>HPX</em>-threads stolen to the pending queue of all (or one) worker threads
should be queried for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id (given by <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero
based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">pool#*</span></code> is defining the pool for which the current value of the
idle-loop counter should be queried for.</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> is defining the worker thread for which the number of
<em>HPX</em>-threads stolen to the pending queue should be queried for. The
worker thread number (given by the <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number
identifying the worker thread. The number of available worker threads is
usually specified on the command line for the application using the
option <a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>. If no pool-name is specified the counter
refers to the ‘default’ pool.</p>
</td>
<td>Returns the total number of <em>HPX</em>-threads ‘stolen’ to the pending thread
queue of the worker thread (these threads are executed by a different
worker thread than they were initially scheduled on). This counter is
available only if the configuration time constant
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_STEALING_COUNTS</span></code> is set to <code class="docutils literal notranslate"><span class="pre">ON</span></code> (default: <code class="docutils literal notranslate"><span class="pre">ON</span></code>).</td>
<td>None</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/threads/count/stolen-to-staged</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/worker-thread#*</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/pool#*/worker-thread#*</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> for which the number of
<em>HPX</em>-threads stolen to the staged queue of all (or one) worker threads
should be queried for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id (given by <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero
based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">pool#*</span></code> is defining the pool for which the current value of the
idle-loop counter should be queried for.</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> is defining the worker thread for which the number of
<em>HPX</em>-threads stolen to the staged queue should be queried for. The
worker thread number (given by the <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) worker thread
number (given by the <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number identifying the
worker thread. The number of available worker threads is usually
specified on the command line for the application using the option
<a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>. If no pool-name is specified the counter refers
to the ‘default’ pool.</p>
</td>
<td>Returns the total number of <em>HPX</em>-threads ‘stolen’ to the staged thread
queue of a neighboring worker thread (these threads are executed by a
different worker thread than they were initially scheduled on). This
counter is available only if the configuration time constant
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_STEALING_COUNTS</span></code> is set to <code class="docutils literal notranslate"><span class="pre">ON</span></code> (default: <code class="docutils literal notranslate"><span class="pre">ON</span></code>).</td>
<td>None</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/threads/count/objects</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/allocator#*</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> for which the current
(cumulative) number of all created <em>HPX</em>-thread objects should be queried
for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id (given by <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number
identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">allocator#*</span></code> is defining the number of the allocator instance using
which the threads have been created. <em>HPX</em> uses a varying number of
allocators to create (and recycle) <em>HPX</em>-thread objects, most likely
these counters are of use for debugging purposes only. The allocator id
(given by <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number identifying the allocator to
query.</p>
</td>
<td>Returns the total number of <em>HPX</em>-thread objects created. Note that
thread objects are reused to improve system performance, thus this number
does not reflect the number of actually executed (retired) <em>HPX</em>-threads.</td>
<td>None</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/scheduler/utilization/instantaneous</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> for which the current
(instantaneous) scheduler utilization queried for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>
id (given by <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number identifying the
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td><dl class="first last docutils">
<dt>Returns the total (instantaneous) scheduler utilization. This is the</dt>
<dd>current percentage of scheduler threads executing <em>HPX</em> threads.</dd>
</dl>
</td>
<td>Percent</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/threads/idle-loop-count/instantaneous</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/worker-thread#*</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/pool#*/worker-thread#*</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> for which the current
current accumulated value of all idle-loop counters of all worker threads
should be queried. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id (given by <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero
based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">pool#*</span></code> is defining the pool for which the current value of the
idle-loop counter should be queried for.</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> is defining the worker thread for which the current
value of the idle-loop counter should be queried for. The worker thread
number (given by the <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) worker thread number (given
by the <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number identifying the worker thread. The
number of available worker threads is usually specified on the command
line for the application using the option <a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>. If no
pool-name is specified the counter refers to the ‘default’ pool.</p>
</td>
<td>Returns the current (instantaneous) idle-loop count for the given
<em>HPX</em>- worker thread or the accumulated value for all worker threads.</td>
<td>None</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/threads/busy-loop-count/instantaneous</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/worker-thread#*</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/pool#*/worker-thread#*</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> for which the current
current accumulated value of all busy-loop counters of all worker threads
should be queried. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id (given by <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero
based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">pool#*</span></code> is defining the pool for which the current value of the
idle-loop counter should be queried for.</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> is defining the worker thread for which the current
value of the busy-loop counter should be queried for. The worker thread
number (given by the <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) worker thread number (given
by the <code class="docutils literal notranslate"><span class="pre">*</span></code> is a (zero based) number identifying the worker thread. The
number of available worker threads is usually specified on the command
line for the application using the option <a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>. If no
pool-name is specified the counter refers to the ‘default’ pool.</p>
</td>
<td>Returns the current (instantaneous) busy-loop count for the given <em>HPX</em>-
worker thread or the accumulated value for all worker threads.</td>
<td>None</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/threads/time/background-work-duration</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/worker-thread#*</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the locality for which the overall time spent
performing background work should be queried for. The locality id (given
by <code class="docutils literal notranslate"><span class="pre">*</span></code>) is a (zero based) number identifying the locality.</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> is defining the worker thread for which the overall
time spent performing background work should be queried for. The worker
thread number (given by the <code class="docutils literal notranslate"><span class="pre">*</span></code>) is a (zero based) number identifying
the worker thread. The number of available worker threads is usually
specified on the command line for the application using the option
<a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>.</p>
</td>
<td>Returns the overall time spent performing background work on the given
locality since application start. If the instance name is <code class="docutils literal notranslate"><span class="pre">total</span></code> the
counter returns the overall time spent performing background work for all
worker threads (cores) on that locality. If the instance name is
<code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> the counter will return the overall time spent
performing background work for all worker threads separately. This
counter is available only if the configuration time constants
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_BACKGROUND_THREAD_COUNTERS</span></code> (default: <code class="docutils literal notranslate"><span class="pre">OFF</span></code>) and
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_IDLE_RATES</span></code> are set to <code class="docutils literal notranslate"><span class="pre">ON</span></code> (default: <code class="docutils literal notranslate"><span class="pre">OFF</span></code>). The
unit of measure for this counter is nanosecond [ns].</td>
<td>None</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/threads/background-overhead</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/worker-thread#*</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the locality for which the background overhead
should be queried for. The locality id (given by <code class="docutils literal notranslate"><span class="pre">*</span></code>) is a (zero based)
number identifying the locality.</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> is defining the worker thread for which the
background overhead should be queried for. The worker thread number
(given by the <code class="docutils literal notranslate"><span class="pre">*</span></code>) is a (zero based) number identifying the worker
thread. The number of available worker threads is usually specified on
the command line for the application using the option
<a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>.</p>
</td>
<td>Returns the background overhead on the given locality since application
start. If the instance name is <code class="docutils literal notranslate"><span class="pre">total</span></code> the counter returns the
background overhead for all worker threads (cores) on that locality. If
the instance name is <code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> the counter will return
background overhead for all worker threads separately. This counter is
available only if the configuration time constants
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_BACKGROUND_THREAD_COUNTERS</span></code> (default: <code class="docutils literal notranslate"><span class="pre">OFF</span></code>) and
<code class="docutils literal notranslate"><span class="pre">HPX_WITH_THREAD_IDLE_RATES</span></code> are set to <code class="docutils literal notranslate"><span class="pre">ON</span></code> (default: <code class="docutils literal notranslate"><span class="pre">OFF</span></code>). The
unit of measure displayed for this counter is 0.1%.</td>
<td>None</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils" id="id12">
<caption><span class="caption-number">Table 44 </span><span class="caption-text">General performance counters exposing characteristics of localities</span><a class="headerlink" href="#id12" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Counter type</td>
<td>Counter instance formatting</td>
<td>Description</td>
<td>Parameters</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/runtime/count/component</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the number of
components should be queried. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a (zero based)
number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td>Returns the overall number of currently active components of the
specified type on the given <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</td>
<td>The type of the component. This is the string which has been used while
registering the component with <em>HPX</em>, e.g. which has been passed as the
second parameter to the macro <a class="reference internal" href="../api.html#c.HPX_REGISTER_COMPONENT" title="HPX_REGISTER_COMPONENT"><code class="xref c c-macro docutils literal notranslate"><span class="pre">HPX_REGISTER_COMPONENT</span></code></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/runtime/count/action-invocation</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<blockquote>
<div>where:</div></blockquote>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the locality the number of action
invocations should be queried. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a (zero based)
number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td>Returns the overall (local) invocation count of the specified action type
on the given <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</td>
<td>The action type. This is the string which has been used while registering
the action with <em>HPX</em>, e.g. which has been passed as the second parameter
to the macro <a class="reference internal" href="../api.html#c.HPX_REGISTER_ACTION" title="HPX_REGISTER_ACTION"><code class="xref c c-macro docutils literal notranslate"><span class="pre">HPX_REGISTER_ACTION</span></code></a> or
<a class="reference internal" href="../api.html#c.HPX_REGISTER_ACTION_ID" title="HPX_REGISTER_ACTION_ID"><code class="xref c c-macro docutils literal notranslate"><span class="pre">HPX_REGISTER_ACTION_ID</span></code></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/runtime/count/remote-action-invocation</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the number of
action invocations should be queried. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a (zero
based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td>Returns the overall (remote) invocation count of the specified action
type on the given <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</td>
<td>The action type. This is the string which has been used while registering
the action with <em>HPX</em>, e.g. which has been passed as the second parameter
to the macro <a class="reference internal" href="../api.html#c.HPX_REGISTER_ACTION" title="HPX_REGISTER_ACTION"><code class="xref c c-macro docutils literal notranslate"><span class="pre">HPX_REGISTER_ACTION</span></code></a> or
<a class="reference internal" href="../api.html#c.HPX_REGISTER_ACTION_ID" title="HPX_REGISTER_ACTION_ID"><code class="xref c c-macro docutils literal notranslate"><span class="pre">HPX_REGISTER_ACTION_ID</span></code></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/runtime/uptime</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the system
uptime should be queried. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a (zero based)
number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td>Returns the overall time since application start on the given
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> in nanoseconds.</td>
<td>None</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/runtime/memory/virtual</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the allocated
virtual memory should be queried. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a (zero
based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td>Returns the amount of virtual memory currently allocated by the
referenced <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> (in bytes).</td>
<td>None</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/runtime/memory/resident</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the allocated
resident memory should be queried. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a (zero
based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td>Returns the amount of resident memory currently allocated by the
referenced <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> (in bytes).</td>
<td>None</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/runtime/memory/total</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the total
available memory should be queried. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a (zero
based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>. Note: only supported in
Linux.</p>
</td>
<td><dl class="first last docutils">
<dt>Returns the total available memory for use by the referenced</dt>
<dd><a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> (in bytes). This counter is available on Linux and
Windows systems only.</dd>
</dl>
</td>
<td>None</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/runtime/io/read_bytes_issued</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the number of
bytes read should be queried. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a (zero based)
number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td>Returns the number of bytes read by the process (aggregate of count
arguments passed to read() call or its analogues). This performance
counter is available only on systems which expose the related data
through the /proc file system.</td>
<td>None</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/runtime/io/write_bytes_issued</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the number of
bytes written should be queried. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a (zero
based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td>Returns the number of bytes written by the process (aggregate of count
arguments passed to write() call or its analogues). This performance
counter is available only on systems which expose the related data
through the /proc file system.</td>
<td>None</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/runtime/io/read_syscalls</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the number of
system calls should be queried. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a (zero based)
number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td>Returns the number of system calls that perform I/O reads. This
performance counter is available only on systems which expose the
related data through the /proc file system.</td>
<td>None</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/runtime/io/write_syscalls</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the number of
system calls should be queried. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a (zero based)
number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td>Returns the number of system calls that perform I/O writes. This
performance counter is available only on systems which expose the
related data through the /proc file system.</td>
<td>None</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/runtime/io/read_bytes_transferred</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the number of
bytes transferred should be queried. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a (zero
based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td>Returns the number of bytes retrieved from storage by I/O operations.
This performance counter is available only on systems which expose the
related data through the /proc file system.</td>
<td>None</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/runtime/io/write_bytes_transferred</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the number of
bytes transferred should be queried. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a (zero
based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td>Returns the number of bytes retrieved from storage by I/O operations.
This performance counter is available only on systems which expose the
related data through the /proc file system.</td>
<td>None</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/runtime/io/write_bytes_cancelled</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the number of
bytes not being transferred should be queried. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is
a (zero based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td>Returns the number of bytes accounted by write_bytes_transferred that
has not been ultimately stored due to truncation or deletion. This
performance counter is available only on systems which expose the
related data through the /proc file system.</td>
<td>None</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils" id="id13">
<caption><span class="caption-number">Table 45 </span><span class="caption-text">Performance counters exposing PAPI hardware counters</span><a class="headerlink" href="#id13" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Counter type</td>
<td>Counter instance formatting</td>
<td>Description</td>
<td>Parameters</td>
</tr>
<tr class="row-even"><td><p class="first"><code class="docutils literal notranslate"><span class="pre">/papi/&lt;papi_event&gt;</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">&lt;papi_event&gt;</span></code> is the name of the PAPI event to expose as a performance
counter (such as <code class="docutils literal notranslate"><span class="pre">PAPI_SR_INS</span></code>). Note that the list of available PAPI
events changes depending on the used architecture.</p>
<p class="last">For a full list of available PAPI events and their (short) description
use the <code class="docutils literal notranslate"><span class="pre">--hpx:list-counters</span></code> and <code class="docutils literal notranslate"><span class="pre">--papi-event-info=all</span></code> command
line options.</p>
</td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code> or</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*/worker-thread#*</span></code></p>
<p>where:</p>
<p><code class="docutils literal notranslate"><span class="pre">locality#*</span></code> is defining the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> for which the current
current accumulated value of all busy-loop counters of all worker threads
should be queried. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id (given by <code class="docutils literal notranslate"><span class="pre">*</span></code>) is a (zero
based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">worker-thread#*</span></code> is defining the worker thread for which the current
value of the busy-loop counter should be queried for. The worker thread
number (given by the <code class="docutils literal notranslate"><span class="pre">*</span></code>) is a (zero based) worker thread number (given
by the <code class="docutils literal notranslate"><span class="pre">*</span></code>) is a (zero based) number identifying the worker thread. The
number of available worker threads is usually specified on the command
line for the application using the option <a class="reference internal" href="launching_and_configuring_hpx_applications.html#cmdoption-hpx-threads"><code class="xref std std-option docutils literal notranslate"><span class="pre">--hpx:threads</span></code></a>.</p>
</td>
<td>This counter returns the current count of occurrences of the specified
PAPI event. This counter is available only if the configuration time
constant <code class="docutils literal notranslate"><span class="pre">HPX_WITH_PAPI</span></code> is set to <code class="docutils literal notranslate"><span class="pre">ON</span></code> (default: <code class="docutils literal notranslate"><span class="pre">OFF</span></code>).</td>
<td>None</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils" id="id14">
<caption><span class="caption-number">Table 46 </span><span class="caption-text">Performance counters for general statistics</span><a class="headerlink" href="#id14" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Counter type</td>
<td>Counter instance formatting</td>
<td>Description</td>
<td>Parameters</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/statistics/average</span></code></td>
<td>Any full performance counter name. The referenced performance counter is
queried at fixed time intervals as specified by the first parameter.</td>
<td>Returns the current average (mean) value calculated based on the values
queried from the underlying counter (the one specified as the instance
name).</td>
<td>Any parameter will be interpreted as a list of up to two comma separated
(integer) values, where the first is the time interval (in milliseconds)
at which the underlying counter should be queried. If no value is
specified, the counter will assume <code class="docutils literal notranslate"><span class="pre">1000</span></code> [ms] as the default. The
second value can be either <code class="docutils literal notranslate"><span class="pre">0</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> and specifies whether the
underlying counter should be reset during evaluation <code class="docutils literal notranslate"><span class="pre">1</span></code> or not <code class="docutils literal notranslate"><span class="pre">0</span></code>.
The default value is <code class="docutils literal notranslate"><span class="pre">0</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/statistics/rolling_average</span></code></td>
<td>Any full performance counter name. The referenced performance counter is
queried at fixed time intervals as specified by the first parameter.</td>
<td>Returns the current rolling average (mean) value calculated based on the
values queried from the underlying counter (the one specified as the
instance name).</td>
<td>Any parameter will be interpreted as a list of up to three comma
separated (integer) values, where the first is the time interval (in
milliseconds) at which the underlying counter should be queried. If no
value is specified, the counter will assume <code class="docutils literal notranslate"><span class="pre">1000</span></code> [ms] as the default.
The second value will be interpreted as the size of the rolling window
(the number of latest values to use to calculate the rolling average).
The default value for this is <code class="docutils literal notranslate"><span class="pre">10</span></code>. The third value can be
either <code class="docutils literal notranslate"><span class="pre">0</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> and specifies whether the underlying counter should
be reset during evaluation <code class="docutils literal notranslate"><span class="pre">1</span></code> or not <code class="docutils literal notranslate"><span class="pre">0</span></code>. The default value is <code class="docutils literal notranslate"><span class="pre">0</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/statistics/stddev</span></code></td>
<td>Any full performance counter name. The referenced performance counter is
queried at fixed time intervals as specified by the first parameter.</td>
<td>Returns the current standard deviation (stddev) value calculated based on
the values queried from the underlying counter (the one specified as the
instance name).</td>
<td>Any parameter will be interpreted as a list of up to two comma separated
(integer) values, where the first is the time interval (in milliseconds)
at which the underlying counter should be queried. If no value is
specified, the counter will assume <code class="docutils literal notranslate"><span class="pre">1000</span></code> [ms] as the default. The
second value can be either <code class="docutils literal notranslate"><span class="pre">0</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> and specifies whether the
underlying counter should be reset during evaluation <code class="docutils literal notranslate"><span class="pre">1</span></code> or not <code class="docutils literal notranslate"><span class="pre">0</span></code>.
The default value is <code class="docutils literal notranslate"><span class="pre">0</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/statistics/rolling_stddev</span></code></td>
<td>Any full performance counter name. The referenced performance counter is
queried at fixed time intervals as specified by the first parameter.</td>
<td>Returns the current rolling variance (stddev) value calculated based on
the values queried from the underlying counter (the one specified as the
instance name).</td>
<td>Any parameter will be interpreted as a list of up to three comma
separated (integer) values, where the first is the time interval (in
milliseconds) at which the underlying counter should be queried. If no
value is specified, the counter will assume <code class="docutils literal notranslate"><span class="pre">1000</span></code> [ms] as the default.
The second value will be interpreted as the size of the rolling window
(the number of latest values to use to calculate the rolling average).
The default value for this is <code class="docutils literal notranslate"><span class="pre">10</span></code>. The third value can be either <code class="docutils literal notranslate"><span class="pre">0</span></code>
or <code class="docutils literal notranslate"><span class="pre">1</span></code> and specifies whether the underlying counter should be reset
during evaluation <code class="docutils literal notranslate"><span class="pre">1</span></code> or not <code class="docutils literal notranslate"><span class="pre">0</span></code>. The default value is <code class="docutils literal notranslate"><span class="pre">0</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/statistics/median</span></code></td>
<td>Any full performance counter name. The referenced performance counter is
queried at fixed time intervals as specified by the first parameter.</td>
<td>Returns the current (statistically estimated) median value calculated
based on the values queried from the underlying counter (the one
specified as the instance name).</td>
<td>Any parameter will be interpreted as a list of up to two comma separated
(integer) values, where the first is the time interval (in milliseconds)
at which the underlying counter should be queried. If no value is
specified, the counter will assume <code class="docutils literal notranslate"><span class="pre">1000</span></code> [ms] as the default. The
second value can be either <code class="docutils literal notranslate"><span class="pre">0</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> and specifies whether the
underlying counter should be reset during evaluation <code class="docutils literal notranslate"><span class="pre">1</span></code> or not <code class="docutils literal notranslate"><span class="pre">0</span></code>.
The default value is <code class="docutils literal notranslate"><span class="pre">0</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/statistics/max</span></code></td>
<td>Any full performance counter name. The referenced performance counter is
queried at fixed time intervals as specified by the first parameter.</td>
<td>Returns the current maximum value calculated based on the values queried
from the underlying counter (the one specified as the instance name).</td>
<td>Any parameter will be interpreted as a list of up to two comma separated
(integer) values, where the first is the time interval (in milliseconds)
at which the underlying counter should be queried. If no value is
specified, the counter will assume <code class="docutils literal notranslate"><span class="pre">1000</span></code> [ms] as the default. The
second value can be either <code class="docutils literal notranslate"><span class="pre">0</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> and specifies whether the
underlying counter should be reset during evaluation <code class="docutils literal notranslate"><span class="pre">1</span></code> or not <code class="docutils literal notranslate"><span class="pre">0</span></code>.
The default value is <code class="docutils literal notranslate"><span class="pre">0</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/statistics/rolling_max</span></code></td>
<td>Any full performance counter name. The referenced performance counter is
queried at fixed time intervals as specified by the first parameter.</td>
<td>Returns the current rolling maximum value calculated based on the values
queried from the underlying counter (the one specified as the instance
name).</td>
<td>Any parameter will be interpreted as a list of up to three comma
separated (integer) values, where the first is the time interval (in
milliseconds) at which the underlying counter should be queried. If no
value is specified, the counter will assume <code class="docutils literal notranslate"><span class="pre">1000</span></code> [ms] as the default.
The second value will be interpreted as the size of the rolling window
(the number of latest values to use to calculate the rolling average).
The default value for this is <code class="docutils literal notranslate"><span class="pre">10</span></code>. The third value can be either <code class="docutils literal notranslate"><span class="pre">0</span></code>
or <code class="docutils literal notranslate"><span class="pre">1</span></code> and specifies whether the underlying counter should be reset
during evaluation <code class="docutils literal notranslate"><span class="pre">1</span></code> or not <code class="docutils literal notranslate"><span class="pre">0</span></code>. The default value is <code class="docutils literal notranslate"><span class="pre">0</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/statistics/min</span></code></td>
<td>Any full performance counter name. The referenced performance counter is
queried at fixed time intervals as specified by the first parameter.</td>
<td>Returns the current minimum value calculated based on the values queried
from the underlying counter (the one specified as the instance name).</td>
<td>Any parameter will be interpreted as a list of up to two comma separated
(integer) values, where the first is the time interval (in milliseconds)
at which the underlying counter should be queried. If no value is
specified, the counter will assume <code class="docutils literal notranslate"><span class="pre">1000</span></code> [ms] as the default. The
second value can be either <code class="docutils literal notranslate"><span class="pre">0</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code> and specifies whether the
underlying counter should be reset during evaluation <code class="docutils literal notranslate"><span class="pre">1</span></code> or not <code class="docutils literal notranslate"><span class="pre">0</span></code>.
The default value is <code class="docutils literal notranslate"><span class="pre">0</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/statistics/rolling_min</span></code></td>
<td>Any full performance counter name. The referenced performance counter is
queried at fixed time intervals as specified by the first parameter.</td>
<td>Returns the current rolling minimum value calculated based on the values
queried from the underlying counter (the one specified as the instance
name).</td>
<td>Any parameter will be interpreted as a list of up to three comma
separated (integer) values, where the first is the time interval (in
milliseconds) at which the underlying counter should be queried. If no
value is specified, the counter will assume <code class="docutils literal notranslate"><span class="pre">1000</span></code> [ms] as the default.
The second value will be interpreted as the size of the rolling window
(the number of latest values to use to calculate the rolling average).
The default value for this is <code class="docutils literal notranslate"><span class="pre">10</span></code>. The third value can be either <code class="docutils literal notranslate"><span class="pre">0</span></code>
or <code class="docutils literal notranslate"><span class="pre">1</span></code> and specifies whether the underlying counter should be reset
during evaluation <code class="docutils literal notranslate"><span class="pre">1</span></code> or not <code class="docutils literal notranslate"><span class="pre">0</span></code>. The default value is <code class="docutils literal notranslate"><span class="pre">0</span></code>.</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils" id="id15">
<caption><span class="caption-number">Table 47 </span><span class="caption-text">Performance counters for elementary arithmetic operations</span><a class="headerlink" href="#id15" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Counter type</td>
<td>Counter instance formatting</td>
<td>Description</td>
<td>Parameters</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/arithmetics/add</span></code></td>
<td>None</td>
<td>Returns the sum calculated based on the values queried from the
underlying counters (the ones specified as the parameters).</td>
<td>The parameter will be interpreted as a comma separated list of full
performance counter names which are queried whenever this counter is
accessed. Any wildcards in the counter names will be expanded.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/arithmetics/subtract</span></code></td>
<td>None</td>
<td>Returns the difference calculated based on the values queried from the
underlying counters (the ones specified as the parameters).</td>
<td>The parameter will be interpreted as a comma separated list of full
performance counter names which are queried whenever this counter is
accessed. Any wildcards in the counter names will be expanded.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/arithmetics/multiply</span></code></td>
<td>None</td>
<td>Returns the product calculated based on the values queried from the
underlying counters (the ones specified as the parameters).</td>
<td>The parameter will be interpreted as a comma separated list of full
performance counter names which are queried whenever this counter is
accessed. Any wildcards in the counter names will be expanded.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/arithmetics/divide</span></code></td>
<td>None</td>
<td>Returns the result of division of the values queried from the
underlying counters (the ones specified as the parameters).</td>
<td>The parameter will be interpreted as a comma separated list of full
performance counter names which are queried whenever this counter is
accessed. Any wildcards in the counter names will be expanded.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/arithmetics/mean</span></code></td>
<td>None</td>
<td>Returns the average value of all values queried from the
underlying counters (the ones specified as the parameters).</td>
<td>The parameter will be interpreted as a comma separated list of full
performance counter names which are queried whenever this counter is
accessed. Any wildcards in the counter names will be expanded.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/arithmetics/variance</span></code></td>
<td>None</td>
<td>Returns the standard deviation of all values queried from the underlying
counters (the ones specified as the parameters).</td>
<td>The parameter will be interpreted as a comma separated list of full
performance counter names which are queried whenever this counter is
accessed. Any wildcards in the counter names will be expanded.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/arithmetics/median</span></code></td>
<td>None</td>
<td>Returns the median value of all values queried from the underlying
counters (the ones specified as the parameters).</td>
<td>The parameter will be interpreted as a comma separated list of full
performance counter names which are queried whenever this counter is
accessed. Any wildcards in the counter names will be expanded.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/arithmetics/min</span></code></td>
<td>None</td>
<td>Returns the minimum value of all values queried from the underlying
counters (the ones specified as the parameters).</td>
<td>The parameter will be interpreted as a comma separated list of full
performance counter names which are queried whenever this counter is
accessed. Any wildcards in the counter names will be expanded.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/arithmetics/max</span></code></td>
<td>None</td>
<td>Returns the maximum value of all values queried from the
underlying counters (the ones specified as the parameters).</td>
<td>The parameter will be interpreted as a comma separated list of full
performance counter names which are queried whenever this counter is
accessed. Any wildcards in the counter names will be expanded.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/arithmetics/count</span></code></td>
<td>None</td>
<td>Returns the count value of all values queried from the underlying
counters (the ones specified as the parameters).</td>
<td>The parameter will be interpreted as a comma separated list of full
performance counter names which are queried whenever this counter is
accessed. Any wildcards in the counter names will be expanded.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">/arithmetics</span></code> counters can consume an arbitrary number of other
counters. For this reason those have to be specified as parameters (a comma
separated list of counters appended after a <code class="docutils literal notranslate"><span class="pre">'&#64;'</span></code>. For instance:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./bin/hello_world_distributed -t2 <span class="se">\</span>
    --hpx:print-counter<span class="o">=</span>/threads<span class="o">{</span>locality#0/worker-thread#*<span class="o">}</span>/count/cumulative <span class="se">\</span>
    --hpx:print-counter<span class="o">=</span>/arithmetics/add@/threads<span class="o">{</span>locality#0/worker-thread#*<span class="o">}</span>/count/cumulative
hello world from OS-thread <span class="m">0</span> on locality <span class="m">0</span>
hello world from OS-thread <span class="m">1</span> on locality <span class="m">0</span>
/threads<span class="o">{</span>locality#0/worker-thread#0<span class="o">}</span>/count/cumulative,1,0.515640,<span class="o">[</span>s<span class="o">]</span>,25
/threads<span class="o">{</span>locality#0/worker-thread#1<span class="o">}</span>/count/cumulative,1,0.515520,<span class="o">[</span>s<span class="o">]</span>,36
/arithmetics/add@/threads<span class="o">{</span>locality#0/worker-thread#*<span class="o">}</span>/count/cumulative,1,0.516445,<span class="o">[</span>s<span class="o">]</span>,64
</pre></div>
</div>
<p>Since all wildcards in the parameters are expanded, this example is fully
equivalent to specifying both counters separately to <code class="docutils literal notranslate"><span class="pre">/arithmetics/add</span></code>:</p>
<div class="last highlight-bash notranslate"><div class="highlight"><pre><span></span>./bin/hello_world_distributed -t2 <span class="se">\</span>
    --hpx:print-counter<span class="o">=</span>/threads<span class="o">{</span>locality#0/worker-thread#*<span class="o">}</span>/count/cumulative <span class="se">\</span>
    --hpx:print-counter<span class="o">=</span>/arithmetics/add@<span class="se">\</span>
        /threads<span class="o">{</span>locality#0/worker-thread#0<span class="o">}</span>/count/cumulative,<span class="se">\</span>
        /threads<span class="o">{</span>locality#0/worker-thread#1<span class="o">}</span>/count/cumulative
</pre></div>
</div>
</div>
<table border="1" class="docutils" id="id16">
<caption><span class="caption-number">Table 48 </span><span class="caption-text">Performance counters tracking <a class="reference internal" href="../terminology.html#term-parcel"><span class="xref std std-term">parcel</span></a> coalescing</span><a class="headerlink" href="#id16" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Counter type</td>
<td>Counter instance formatting</td>
<td>Description</td>
<td>Parameters</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/coalescing/count/parcels</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the number of
parcels for the given action should be queried for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>
id is a (zero based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td>Returns the number of parcels handled by the message handler
associated with the action which is given by the counter parameter.</td>
<td>The action type. This is the string which has been used while registering
the action with <em>HPX</em>, e.g. which has been passed as the second parameter
to the macro <a class="reference internal" href="../api.html#c.HPX_REGISTER_ACTION" title="HPX_REGISTER_ACTION"><code class="xref c c-macro docutils literal notranslate"><span class="pre">HPX_REGISTER_ACTION</span></code></a> or
<a class="reference internal" href="../api.html#c.HPX_REGISTER_ACTION_ID" title="HPX_REGISTER_ACTION_ID"><code class="xref c c-macro docutils literal notranslate"><span class="pre">HPX_REGISTER_ACTION_ID</span></code></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/coalescing/count/messages</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the number of
messages for the given action should be queried for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>
id is a (zero based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td>Returns the number of messages generated by the message handler
associated with the action which is given by the counter parameter.</td>
<td>The action type. This is the string which has been used while registering
the action with <em>HPX</em>, e.g. which has been passed as the second parameter
to the macro <a class="reference internal" href="../api.html#c.HPX_REGISTER_ACTION" title="HPX_REGISTER_ACTION"><code class="xref c c-macro docutils literal notranslate"><span class="pre">HPX_REGISTER_ACTION</span></code></a> or
<a class="reference internal" href="../api.html#c.HPX_REGISTER_ACTION_ID" title="HPX_REGISTER_ACTION_ID"><code class="xref c c-macro docutils literal notranslate"><span class="pre">HPX_REGISTER_ACTION_ID</span></code></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/coalescing/count/average-parcels-per-message</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the number of
messages for the given action should be queried for. The <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>
id is a (zero based) number identifying the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td>Returns the average number of parcels sent in a message generated by the
message handler associated with the action which is given by the counter
parameter.</td>
<td>The action type. This is the string which has been used while registering
the action with <em>HPX</em>, e.g. which has been passed as the second parameter
to the macro <a class="reference internal" href="../api.html#c.HPX_REGISTER_ACTION" title="HPX_REGISTER_ACTION"><code class="xref c c-macro docutils literal notranslate"><span class="pre">HPX_REGISTER_ACTION</span></code></a> or
<a class="reference internal" href="../api.html#c.HPX_REGISTER_ACTION_ID" title="HPX_REGISTER_ACTION_ID"><code class="xref c c-macro docutils literal notranslate"><span class="pre">HPX_REGISTER_ACTION_ID</span></code></a></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">/coalescing/time/average-parcel-arrival</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the average time
between parcels for the given action should be queried for. The
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a (zero based) number identifying the
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td>Returns the average time between arriving parcels for the
action which is given by the counter parameter.</td>
<td>The action type. This is the string which has been used while registering
the action with <em>HPX</em>, e.g. which has been passed as the second parameter
to the macro <a class="reference internal" href="../api.html#c.HPX_REGISTER_ACTION" title="HPX_REGISTER_ACTION"><code class="xref c c-macro docutils literal notranslate"><span class="pre">HPX_REGISTER_ACTION</span></code></a> or
<a class="reference internal" href="../api.html#c.HPX_REGISTER_ACTION_ID" title="HPX_REGISTER_ACTION_ID"><code class="xref c c-macro docutils literal notranslate"><span class="pre">HPX_REGISTER_ACTION_ID</span></code></a></td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">/coalescing/time/parcel-arrival-histogram</span></code></td>
<td><p class="first"><code class="docutils literal notranslate"><span class="pre">locality#*/total</span></code></p>
<p>where:</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">*</span></code> is the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id of the <a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> the average time
between parcels for the given action should be queried for. The
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a> id is a (zero based) number identifying the
<a class="reference internal" href="../terminology.html#term-locality"><span class="xref std std-term">locality</span></a>.</p>
</td>
<td><p class="first">Returns a histogram representing the times between arriving parcels for
the action which is given by the counter parameter.</p>
<p>This counter returns an array of values, where the first three values
represent the three parameters used for the histogram followed by one
value for each of the histogram buckets.</p>
<p>The first unit of measure displayed for this counter <code class="docutils literal notranslate"><span class="pre">[ns]</span></code> refers to
the lower and upper boundary values in the returned histogram data only.
The second unit of measure displayed <code class="docutils literal notranslate"><span class="pre">[0.1%]</span></code> refers to the actual
histogram data.</p>
<p class="last">For each bucket the counter shows a value between <code class="docutils literal notranslate"><span class="pre">0</span></code> and <code class="docutils literal notranslate"><span class="pre">1000</span></code>
which corresponds to a percentage value between <code class="docutils literal notranslate"><span class="pre">0%</span></code> and <code class="docutils literal notranslate"><span class="pre">100%</span></code>.</p>
</td>
<td><p class="first">The action type and optional histogram parameters. The action type is
the string which has been used while registering the action with <em>HPX</em>,
e.g. which has been passed as the second parameter to the macro
<a class="reference internal" href="../api.html#c.HPX_REGISTER_ACTION" title="HPX_REGISTER_ACTION"><code class="xref c c-macro docutils literal notranslate"><span class="pre">HPX_REGISTER_ACTION</span></code></a> or <a class="reference internal" href="../api.html#c.HPX_REGISTER_ACTION_ID" title="HPX_REGISTER_ACTION_ID"><code class="xref c c-macro docutils literal notranslate"><span class="pre">HPX_REGISTER_ACTION_ID</span></code></a>.</p>
<p class="last">The action type may be followed by a comma separated list of up-to three
numbers: the lower and upper boundaries for the collected histogram, and
the number of buckets for the histogram to generate. By default these
three numbers will be assumed to be <code class="docutils literal notranslate"><span class="pre">0</span></code> (<code class="docutils literal notranslate"><span class="pre">[ns]</span></code>, lower
bound), <code class="docutils literal notranslate"><span class="pre">1000000</span></code> (<code class="docutils literal notranslate"><span class="pre">[ns]</span></code>, upper bound), and <code class="docutils literal notranslate"><span class="pre">20</span></code> (number of
buckets to generate).</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The performance counters related to <a class="reference internal" href="../terminology.html#term-parcel"><span class="xref std std-term">parcel</span></a> coalescing are available only if
the configuration time constant <code class="docutils literal notranslate"><span class="pre">HPX_WITH_PARCEL_COALESCING</span></code> is set to
<code class="docutils literal notranslate"><span class="pre">ON</span></code> (default: <code class="docutils literal notranslate"><span class="pre">ON</span></code>). However, even in this case it will be available
only for those actions, which are enabled for parcel coalescing (see the
macros <code class="xref c c-macro docutils literal notranslate"><span class="pre">HPX_ACTION_USES_MESSAGE_COALESCING</span></code> and
<code class="xref c c-macro docutils literal notranslate"><span class="pre">HPX_ACTION_USES_MESSAGE_COALESCING_NOTHROW</span></code>).</p>
</div>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[1]</a></td><td>A message can potentially consist of more than one <a class="reference internal" href="../terminology.html#term-parcel"><span class="xref std std-term">parcel</span></a>.</td></tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="apex-integration">
<h2>APEX integration<a class="headerlink" href="#apex-integration" title="Permalink to this headline">¶</a></h2>
<p><em>HPX</em> provides integration with <a class="reference external" href="https://khuck.github.io/xpress-apex/">APEX</a>, which is a framework for application
profiling using task timers and various performance counters. It can be added as
a <code class="docutils literal notranslate"><span class="pre">git</span></code> submodule by turning on the option <a class="reference internal" href="building_hpx.html#cmdoption-arg-hpx-with-apex-bool"><code class="xref std std-option docutils literal notranslate"><span class="pre">HPX_WITH_APEX:BOOL</span></code></a> during
<a class="reference external" href="https://www.cmake.org">CMake</a> configuration. <a class="reference external" href="https://www.cs.uoregon.edu/research/tau/home.php">TAU</a> is an optional dependency when using <a class="reference external" href="https://khuck.github.io/xpress-apex/">APEX</a>.</p>
<p>To build <em>HPX</em> with <a class="reference external" href="https://khuck.github.io/xpress-apex/">APEX</a> add <code class="xref std std-option docutils literal notranslate"><span class="pre">HPX_WITH_APEX</span></code><code class="docutils literal notranslate"><span class="pre">=ON</span></code>, and,
optionally, <code class="docutils literal notranslate"><span class="pre">TAU_ROOT=$PATH_TO_TAU</span></code> to your <a class="reference external" href="https://www.cmake.org">CMake</a> configuration. In
addition, you can override the tag used for <a class="reference external" href="https://khuck.github.io/xpress-apex/">APEX</a> with the
<code class="xref std std-option docutils literal notranslate"><span class="pre">HPX_WITH_APEX_TAG</span></code> option. Please see the <a class="reference external" href="https://khuck.github.io/xpress-apex/usage/#hpx-louisiana-state-university">APEX <em>HPX</em> documentation</a> for detailed
instructions on using <a class="reference external" href="https://khuck.github.io/xpress-apex/">APEX</a> with <em>HPX</em>.</p>
</div>
</div>


           </div>
           
          </div>
          <!-- Copyright (c) 2018 Mikael Simberg

     Distributed under the Boost Software License, Version 1.0. (See accompanying
     file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt) -->
<!-- Make HPX inspect tool happy: hpxinspect:nounlinked -->

<footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="hpx_runtime_and_resources.html" class="btn btn-neutral float-right" title="HPX runtime and resources" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="debugging_hpx_applications.html" class="btn btn-neutral float-left" title="Debugging HPX applications" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2008-2019, The STE||AR Group
      
        <span class="commit">
          Revision <code>58fa1f0</code>.
        </span>
      

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
 

Distributed under the Boost Software License, Version 1.0. (See accompanying file
LICENSE_1_0.txt or copy at
<a href="http://www.boost.org/LICENSE_1_0.txt">http://www.boost.org/LICENSE_1_0.txt</a>)



</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>